<!DOCTYPE html>
	<html class="sl-root base export loaded">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Let&#39;s Build a Webserver!: Slides</title>
		<meta name="description" content="Slides">

		<link rel="stylesheet" type="text/css" href="lib/offline-v2.css">



	</head>
	<body class="reveal-viewport theme-font-josefine theme-color-cobalt-orange">
		<div class="reveal">
			<div class="slides">
				<section class="stack" data-id="c05f3119f741f62241bff94bc370527d"><section data-id="2d94c0b8116bfab1298a796b5677b042">
<div class="sl-block" data-block-type="text" data-block-id="6d0d88dff0d8e942748d985e896295eb" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 544px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; overflow: visible;" data-gramm_id="2e3d3dd8-df13-0b4b-5d74-9840f429c68e" data-gramm="true" data-gramm_editor="true">
<p>Kirk Haines</p>

<p>khaines@engineyard.com</p>
</div>
<div><div style="z-index: 13; opacity: 1; margin-left: 1785px; margin-top: -115px;" class="gr-textarea-btn " data-grammarly-reactid=".4"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".4.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="6afa3c725d543c2b5298898da1f00bf2" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h1 style="color:rgb(255, 255, 255)">RailsConf 2016</h1>

<h1 style="color:rgb(255, 255, 255)">Let's Build a Web Server!</h1>
</div></div></section><section data-id="d8e209128246a60cb056dec87d02df59"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="76afdf4271f90cb6cd0cc2248edf0f33"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Kirk Haines</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="7e67d617171d6d52e4f0d62ac600866d" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align:left">• Rubyist since 2001</p>

<p style="text-align:left">• First professional Ruby web app in 2002</p>

<p style="text-align:left">• Dozens of sites and apps, and several web servers since</p>

<p style="text-align:left">• Engine Yard since 2008</p>

<p style="text-align:left">• Former Ruby 1.8.6 maintainer</p>

<p style="text-align:left"> </p>

<p style="text-align:left">khaines@engineyard.com</p>

<p style="text-align:left">      @wyhaines</p>
</div></div>
<div class="sl-block" data-block-type="image" data-block-id="225af43009518c3c3891cc4d6626d074" style="min-width: 30px; min-height: 30px; width: 33px; height: 33px; left: 80px; top: 542px;"><div class="sl-block-content" style="z-index: 13;"><img style="" data-natural-width="128" data-natural-height="128" data-src="lets-build-a-webserver/2504092-twitter-128.png"></div></div></section></section><section class="stack" data-id="d485efbc9e36788e6fe781745dc34672"><section data-id="d228c3094f3dabf379cdb78d8e75d101"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="51acb3153bc7c67498b0f10bb926d790">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="overflow: visible; z-index: 11;" data-gramm_id="a502cda7-2898-8caf-df58-2949abcc1b2f" data-gramm="true" data-gramm_editor="true">
<h1>What Is a Web Server?</h1>
</div>
<div><div style="z-index: 12; opacity: 1; margin-left: 2004px; margin-top: 216px;" class="gr-textarea-btn " data-grammarly-reactid=".o"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".o.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="e76ebbc1ff7c21efa6a0d04c4878fd2f" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 160px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible; color: rgb(255, 255, 255);">
<blockquote>
<p>A web server is an information technology that processes requests via HTTP, the basic network protocol used to distribute information on the World Wide Web.</p>
</blockquote>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="26577bde14cc77ccf8975861107260a8" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 160px; top: 591px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; overflow: visible;">
<p>https://en.wikipedia.org/wiki/Web_server</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="a5d3a766858806548610b1e13912d71f" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 422px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p>A web server is just a server that accepts HTTP requests, and returns HTTP responses.</p>
</div></div></section><section data-id="c9f343d51d0aa3ab7224c9281f1a3c07"><div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 50px; height: auto;" data-block-id="f92b28e3a81f2c9da4ada18a8b9f21d0">
<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" data-gramm_id="8917a054-3cd1-d9d7-53d0-bf6d342f84dc" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 10;">
<h2>In The Beginning...</h2>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 3162px; margin-top: -566px;" class="gr-textarea-btn " data-grammarly-reactid=".g"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".g.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="e26564c33e21a06982fb3deb7a5881ab" style="height: auto; min-width: 30px; min-height: 30px; width: 799px; left: 79px; top: 280px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;" data-gramm_id="86e3d32d-3fa6-a616-27f9-07d5c5fd4d95" data-gramm="true" data-gramm_editor="true">
<ul>
	<li style="text-align: left;">Tim Berners-Lee, of CERN</li>
	<li style="text-align: left;">Information sharing between scientists</li>
	<li style="text-align: left;">Original web browser and web server implementations</li>
	<li style="text-align: left;">NeXT and Apple Macintosh - 50<span style="text-align:start">€ / server</span>
</li>
	<li style="text-align: left;"><span style="text-align:start">Source code - 50€ / site</span></li>
	<li style="text-align: left;">Open sourced on April 30, 1993</li>
</ul>
</div>
<div><div style="z-index: 13; opacity: 1; margin-left: 1614px; margin-top: 79px;" class="gr-textarea-btn " data-grammarly-reactid=".i"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".i.0"> </div></div></div>
</div></section><section data-id="fc292ef1688f61e63640579561e14633"><div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 50px; height: auto;" data-block-id="e54b97f25dad835b9df19cc1c9ce2cfe">
<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" data-gramm_id="7a1e4466-d21c-9084-3d7c-7bcdfe5a04c0" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 10;">
<h2>What Does It Look Like?</h2>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 82px; margin-top: 952px;" class="gr-textarea-btn " data-grammarly-reactid=".k"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".k.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="image" style="width: 700px; height: 403.902px; left: 129px; top: 180px;" data-block-id="6f948a6ca637881179b42df252872f3e"><div class="sl-block-content" style="border: 1px solid rgb(7, 55, 99); border-radius: 5px; z-index: 11;"><img style="" data-natural-width="2870" data-natural-height="1656" data-src="lets-build-a-webserver/2490791-basic_http_request.gif"></div></div></section></section><section class="stack" data-id="038c57b34fc59afb051a5eaa2bbb47be"><section data-id="ba1e5c000d409c4f9c49125c5eb7a996"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="61a732c35074d6629fa3f58250297ee7"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="overflow: visible; z-index: 10;">
<h1>HTTP</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 140px; height: auto;" data-block-id="ce1e3d40d06f089b363399dfcd86dca4"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Subtitle" style="overflow: visible; z-index: 11;">
<h2>HyperText Transfer Protocol</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="aba9e5a5aa56ec9948885366e3d5debe" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 331px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; overflow: visible; transition-delay: 1.3s; transition-duration: 0.9s;" data-animation-type="slide-up">
<h2 style="text-align:left">Defines:</h2>

<p style="text-align:left">    How to make a request to a HTTP server (a web server)</p>

<p style="text-align:left">    How the server should respond to requests</p>
</div></div></section><section data-id="82c9017df1c39b7767711fbdd70ac10b"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="5862e1cf4bab2e507e142f9a5e9e7023">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="a542a4ff-68f8-1c00-7fce-7d22d8439fa1" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 11;">
<h1>Very Simple Beginnings</h1>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 732px; margin-top: 1315px;" class="gr-textarea-btn " data-grammarly-reactid=".13"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".13.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="42616db5b782456b162476ad0995f3ba" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible; transition-delay: 0.6s; transition-duration: 0.9s;" data-gramm_id="cb8dd2c0-da53-c83b-e99a-8fc9eb65c66b" data-gramm="true" data-gramm_editor="true" data-animation-type="slide-right">
<p style="text-align:left">Request a document</p>

<p style="text-align:left">        GET document-path</p>
</div>
<div><div style="z-index: 13; opacity: 1; margin-left: 631px; margin-top: 1210px;" class="gr-textarea-btn " data-grammarly-reactid=".15"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".15.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="image" data-block-id="e630c340276d737945bab3bddc8f6633" style="min-width: 30px; min-height: 30px; width: 360px; height: 207.721px; left: 300px; top: 422px;"><div class="sl-block-content" style="z-index: 13; transition-duration: 0.9s; transition-delay: 4s;" data-animation-type="slide-up"><img data-natural-width="2870" data-natural-height="1656" style="" data-src="lets-build-a-webserver/2490791-basic_http_request.gif"></div></div>
<div class="sl-block" data-block-type="text" data-block-id="11da867a0fb470b227a5644eb8bf18d4" style="height: auto; min-width: 30px; min-height: 30px; width: 700px; left: 80px; top: 331px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; overflow: visible; transition-duration: 0.9s; transition-delay: 2.5s;" data-gramm_id="45adea7a-2af4-4c8c-991a-fdf1242d37bd" data-gramm="true" data-gramm_editor="true" data-animation-type="slide-right">
<p style="text-align:left"><span style="color:rgb(255, 255, 255); text-align:left">Valid response was simply to return the document.</span></p>
</div>
<div><div style="z-index: 15; opacity: 1; margin-left: 804px; margin-top: 828px;" class="gr-textarea-btn " data-grammarly-reactid=".17"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".17.0"> </div></div></div>
</div></section><section data-id="3a76835570b66055c35f4ba0c858889c"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="10ed0f547ba50024760fe4113027b20b">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="fdbee352-984f-499c-0330-dccfbc2668c9" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 11;">
<h1>"A Shell Server for HTTP"</h1>

<p>(slightly modified from the original)</p>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 470px; margin-top: 889px;" class="gr-textarea-btn " data-grammarly-reactid=".19"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".19.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="1301f034f33030c1a2133ab561e1bf8c" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 591px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;" data-gramm_id="1dd9d174-494a-dc34-a4d2-74297674ccee" data-gramm="true" data-gramm_editor="true">
<p style="text-align: left;"><span style="font-size:0.9em">http://info.cern.ch/hypertext/WWW/Provider/ShellScript.html</span></p>
</div>
<div><div style="z-index: 13; opacity: 1; margin-left: 254px; margin-top: 476px;" class="gr-textarea-btn " data-grammarly-reactid=".1b"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".1b.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="code" data-block-id="a3d65e1d77305ba220672cc5a2f54510" style="min-width: 30px; min-height: 30px; width: 800px; height: 167px; left: 80px; top: 280px;"><div class="sl-block-content" style="z-index: 13; border: 5px solid rgb(68, 68, 68); border-radius: 20px; font-size: 165%;" data-highlight-theme="ir-black"><pre class="hsp"><code>#! /bin/sh
read get docid junk
cat `echo "$docid" | \
  ruby -p -e '$_.gsub!(/^\/ [\r\n]/,"").chomp'`</code></pre></div></div></section><section data-id="668828e5e43c675e4be73dec1036d902"><div class="sl-block" data-block-type="text" data-block-id="4fb7294df7ed0741871b4af99b726922" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 167px; top: 70px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; overflow: visible;" data-gramm_id="ecb1113b-cd39-9750-387d-8270caf08759" data-gramm="true" data-gramm_editor="true">
<h1>Run the Server</h1>
</div>
<div><div style="z-index: 12; opacity: 1; margin-left: 681px; margin-top: 479px;" class="gr-textarea-btn " data-grammarly-reactid=".1f"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".1f.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="image" data-block-id="2bfbf8896d3d2df67de098729881ac65" style="min-width: 30px; min-height: 30px; width: 728px; height: 455px; left: 116px; top: 193px;"><div class="sl-block-content" style="z-index: 12; border: 5px solid rgb(68, 68, 68); border-radius: 13px;"><img style="" data-natural-width="2880" data-natural-height="1800" data-src="lets-build-a-webserver/2489521-netcat_demo.gif"></div></div></section><section data-id="b23659c99649c867b60e75e5e346d418"><div class="sl-block" data-block-type="text" data-block-id="ee9be7320e5f323f9a1b34425c06d01c" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 70px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; overflow: visible;" data-gramm_id="a9b80f30-b54f-40aa-d931-22407e9027c0" data-gramm="true" data-gramm_editor="true">
<h1>Access the Server</h1>
</div>
<div><div style="z-index: 12; opacity: 1; margin-left: 686px; margin-top: 479px;" class="gr-textarea-btn " data-grammarly-reactid=".1h"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".1h.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="image" data-block-id="f019d324fc12eb044495025bdac13546" style="min-width: 30px; min-height: 30px; width: 728px; height: 455px; left: 116px; top: 175px;"><div class="sl-block-content" style="z-index: 12; border: 5px solid rgb(68, 68, 68); border-radius: 13px;"><img data-natural-width="2880" data-natural-height="1800" style="" data-src="lets-build-a-webserver/2489523-super_simple.gif"></div></div></section><section data-id="bd09383eea30298ae7b2ff25a1888b7c"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="dd4a55b7a0bb1ac75e920e647036d1c1">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="6456e848-8597-df44-1d73-bbb42f78d8f5" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 11;">
<h1>That's Terrifying</h1>

<p>i.e. Don't Actually Do This</p>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 768px; margin-top: 65px;" class="gr-textarea-btn gr-textarea-btn_checking" data-grammarly-reactid=".1j"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".1j.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="shape" data-block-id="598be179c0edef4547abcf40d3da5aed" style="min-width: 4px; min-height: 4px; width: 46px; height: 48px; left: 457px; top: 431px;"><div class="sl-block-content" data-shape-type="symbol-plus-circle" data-shape-fill-color="rgb(255, 255, 255)" data-shape-stretch="true" style="z-index: 12;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveaspectratio="none" viewbox="0 0 32 32"><g class="shape-element" fill="rgb(255, 255, 255)"><path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM24 18h-6v6h-4v-6h-6v-4h6v-6h4v6h6v4z"></path></g></svg></div></div>
<div class="sl-block" data-block-type="text" data-block-id="a5d974f621bcc62d5fef7a0cfb4cadb0" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 217px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; overflow: visible;" data-gramm_id="0037d831-a949-cc82-014f-6fc27ad87187" data-gramm="true" data-gramm_editor="true">
<p><span style="font-size:0.7em">(super_simple.sh)</span></p>
</div>
<div><div style="z-index: 16; opacity: 1; margin-left: 568px; margin-top: 7px;" class="gr-textarea-btn " data-grammarly-reactid=".22"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".22.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="shape" data-block-id="f800d6a14c835034d2d1481ad26e5241" style="min-width: 4px; min-height: 4px; width: 127px; height: 21px; left: 417px; top: 560px;"><div class="sl-block-content" data-shape-type="arrow-down" data-shape-fill-color="rgb(255, 255, 255)" data-shape-stretch="true" style="z-index: 14;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveaspectratio="none" viewbox="0 0 127 21"><polygon points="63.5,21 127,10.5 88.89999999999999,10.5 88.89999999999999,0 38.1,0 38.1,10.5 0,10.5 63.5,21" class="shape-element" fill="rgb(255, 255, 255)"></polygon></svg></div></div>
<div class="sl-block" data-block-type="text" data-block-id="e40b8c7f4f878fae31e94fa40c093dd6" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 611px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; overflow: visible;" data-gramm_id="2b987ac9-d7a4-80e6-1e92-ecd951ef7258" data-gramm="true" data-gramm_editor="true">
<p>A (scary, limited) web server!</p>

<p>This is easy!!!</p>
</div>
<div><div style="z-index: 18; opacity: 1; margin-left: 568px; margin-top: 54px;" class="gr-textarea-btn " data-grammarly-reactid=".24"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".24.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 800px; height: 153px; left: 80px; top: 267px;" data-block-id="efa5e93602dee3d6c545c971dc484196"><div class="sl-block-content" style="z-index: 16; border: 5px solid rgb(68, 68, 68); border-radius: 20px; font-size: 165%;" data-highlight-theme="ir-black"><pre class="hsp"><code>#! /bin/sh
read get docid junk
cat `echo "$docid" | \
  ruby -p -e '$_.gsub!(/^\/ [\r\n]/,"").chomp'`</code></pre></div></div>
<div class="sl-block" data-block-type="code" data-block-id="6b719d03d7617b2e44530da7d0663e7a" style="min-width: 30px; min-height: 30px; width: 800px; height: 48px; left: 80px; top: 490px;"><div class="sl-block-content" style="z-index: 17; font-size: 165%; border: 5px solid rgb(68, 68, 68); border-radius: 20px;" data-highlight-theme="ir-black"><pre class="bash"><code>netcat -l -p 5000 -e ./super_simple.sh</code></pre></div></div></section></section><section class="stack" data-id="a15ec01140b1c0121d2634140252e704"><section data-id="ef51504d2092b5afada26e64234178dc"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="218444b577427632eb851322505eab7c">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="843d4097-9f1f-0b79-9a89-f1103a876ab6" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 11;">
<h1>That Original Server...</h1>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 1173px; margin-top: 91px;" class="gr-textarea-btn " data-grammarly-reactid=".26"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".26.0"> </div></div></div>
</div>

<div class="sl-block" data-block-type="text" data-block-id="029b2420efbef34da47335df7aada7a9" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 331px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;" data-gramm_id="1afaabe9-d304-7b80-1ddb-283bafb77d35" data-gramm="true" data-gramm_editor="true"><p>Text</p></div>
<div><div style="z-index: 14; opacity: 1; margin-left: 874px; margin-top: -31px;" class="gr-textarea-btn " data-grammarly-reactid=".2d"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".2d.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="code" data-block-id="87e42ba0c426fb95669156b948b555de" style="min-width: 30px; min-height: 30px; width: 800px; height: 430px; left: 80px; top: 177px;"><div class="sl-block-content" style="z-index: 13; font-size: 55%; border: 5px solid rgb(68, 68, 68); border-radius: 20px;" data-highlight-theme="ir-black"><pre><code>    for (;;) {
        status = read(soc, command, COMMAND_SIZE);
        if (status&lt;=0) {
            if (TRACE) printf("read returned %i, errno=%i\n", status, errno);
            return status;      /* Return and close file */
        }
        command[status]=0;      /* terminate the string */
#ifdef VM
        {
            char * p;
            for (p=command; *p; p++) {
                *p = FROMASCII(*p);
                if (*p == '\n') *p = ' ';
            }
        }
#endif
        if (TRACE) printf("read string is `%s'\n", command);

        arg=index(command,' ');
        if (arg) {
            *arg++ = 0;                         /* Terminate command &amp; move on */
            arg = strip(arg);                   /* Strip leading &amp; trailing space */
            if (0==strcmp("GET", command)) {    /* Get a file                   */

/*      Remove host and any punctuation. (Could use HTParse to remove access too @)
*/
                filename = arg;
                if (arg[0]=='/') {
                    if (arg[1]=='/') {
                        filename = index(arg+2, '/');   /* Skip //host/ */
                        if (!filename) filename=arg+strlen(arg);
                    } else {
                        filename = arg+1;               /* Assume root: skip slash */
                    }
                }

                if (*filename) {                /* (else return test message)   */
                    keywords=index(filename, '?');
                    if (keywords) *keywords++=0;        /* Split into two */</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="233ee0de9ace59da568ec545d7223a28" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 630px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p><span style="font-size:0.5em"><span style="color:rgb(255, 255, 255)">https://github.com/NotTheRealTimBL/WWWDaemon/blob/master/old/V0.1/daemon.c#L214</span></span></p>
</div></div></section><section data-id="2532230bc9de708ddb5676fd9edf99a3"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="575972797b64037fea48b3f0ffc18a17"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Monolithic Early Versions</h1>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="0bf70fe37e7630fd876d124808b916e8" style="min-width: 30px; min-height: 30px; width: 800px; height: 121px; left: 80px; top: 167px;"><div class="sl-block-content" style="z-index: 11; font-size: 95%;" data-highlight-theme="ir-black"><pre class="none"><code>/*              TCP/IP based server for HyperText                       TCPServer.c
**              ---------------------------------
**
**  History:
**      2 Oct 90        Written TBL. Include filenames for VM from RTB.
*/</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="a170afb94142de04442ee658637e2e52" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 320px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 87%;">
<p>It's a file, daemon.c, that changed the direction of the internet forever.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 591px;" data-block-id="ccfdc03e3ca261a9f686c1c3681863ee"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p><span style="font-size:0.5em"><span style="color:rgb(255, 255, 255)">https://github.com/NotTheRealTimBL/WWWDaemon/blob/master/old/V0.1/daemon.c#L214</span></span></p>
</div></div></section><section data-id="32ca0dbbf2ab83bdc763fb0c8e12cf9a"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="c095039250d5e0945c2d15b339b8d14d"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>By Open Source Release, Better Organized</h1>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="283470098952d647738ca3f2558358b4" style="min-width: 30px; min-height: 30px; width: 800px; height: 207px; left: 80px; top: 283px;"><div class="sl-block-content" style="z-index: 12; border-width: 5px; border-color: rgb(68, 68, 68); font-size: 92%;" data-highlight-theme="ir-black"><pre class="none"><code>Anchor.h		HTFTP.h			HTStyle.h		HyperAccess.h
NewsAccess.m		TextToy.m               Anchor.m		HTFile.c
HTStyle.m		HyperAccess.m		ParseHTML.h		WWW.h
FileAccess.h		HTFile.h		HTTCP.c			HyperManager.h
StyleToy.h		WWWPageLayout.h         FileAccess.m		HTParse.c
HTTCP.h			HyperManager.m		StyleToy.m		WWWPageLayout.m
HTAccess.c		HTParse.h		HTTP.c			HyperText.h
TcpAccess.h		WorldWideWeb_main.m     HTAccess.h		HTString.c
HTTP.h			HyperText.m		TcpAccess.m		tcp.h
HTFTP.c			HTString.h		HTUtils.h		NewsAccess.h
TextToy.h</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="cf89842a2d2cfc6e84ebd69a912f2194" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 560px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p>This code set the stage for the internet as we know it.</p>
</div></div></section><section data-id="8633c0660227e6c967f03d8b01b7cb80"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="8c6bd3b32518149bc35dba034945b1b2"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Just Because....</h1>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="0da8b9dd5bc281733a74911391e63afd" style="min-width: 30px; min-height: 30px; width: 800px; height: 450px; left: 80px; top: 180px;"><div class="sl-block-content" style="z-index: 12;" data-highlight-theme="ir-black"><pre class="none"><code>/*              TCP/IP based server for HyperText               HTDaemon.c
**              ---------------------------------
**
**
** Compilation options:
**      RULES           If defined, use rule file and translation table
**      DIR_OPTIONS     If defined, -d options control directory access
**
**  Authors:
**      TBL     Tim Berners-Lee, CERN
**      JFG     Jean-Francois Groff, CERN
**      JS      Jonathan Streets, FNAL
**
**  History:
**         Sep 91  TBL  Made from earlier daemon files. (TBL)
**      26 Feb 92  JFG  Bug fixes for Multinet.
**       8 Jun 92  TBL  Bug fix: Perform multiple reads in case we don't get
**                      the whole command first read.
**      25 Jun 92  JFG  Added DECNET option through TCP socket emulation.
**       6 Jan 93  TBL  Plusses turned to spaces between keywords
**       7 Jan 93  JS   Bug fix: addrlen had not been set for accept() call
*/
/* (c) CERN WorldWideWeb project 1990-1992. See Copyright.html for details */</code></pre></div></div></section></section><section class="stack" data-id="c920a04c49b63825fc38a5c2f2e61367"><section data-id="99ebf804255b90076c906e5889467c9b"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="4f6097ac8636ca8494675940268a5e70"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="overflow: visible; z-index: 11;">
<h1>Things Evolved...</h1>

<h2>HTTP 0.9 written as implemented</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="d93302940aab11990defe70eaea85207" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 331px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;">
<ul>
	<li style="text-align:left"><span style="font-size:0.9em">Assume TCP; default to port 80</span></li>
	<li style="text-align:left"><span style="font-size:0.9em">Server accepts connection</span></li>
	<li style="text-align:left"><span style="font-size:0.9em">Client sends ASCII request: GET document-address\r\n</span></li>
	<li style="text-align:left"><span style="font-size:0.9em">    or a search: GET document-address?search+term\r\n</span></li>
	<li style="text-align:left"><span style="font-size:0.9em">Server returns LF or CR/LF delimited HTML lines in response</span></li>
	<li style="text-align:left"><span style="font-size:0.9em">Plain text responses are preceded by a &lt;PLAINTEXT&gt; line</span></li>
	<li style="text-align:left"><span style="font-size:0.9em">Errors are human readable HTML and aren't differentiated from a non-error response</span></li>
	<li style="text-align:left"><span style="font-size:0.9em">Server disconnects when the document is transmitted</span></li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="4da17c8b81f6a0c573cf94a597b1addf" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 261px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; overflow: visible;">
<p>https://www.w3.org/Protocols/HTTP/AsImplemented.html</p>
</div></div></section><section data-id="f67111212c011ff3a4551d40965295c4">
<div class="sl-block" data-block-type="text" data-block-id="bb3c7877621225d899cf5eb1eedb5a9a" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<p style="color:rgb(255, 255, 255); text-align:left">CERN provided:</p>

<p style="color:rgb(255, 255, 255); text-align:left">        pseudocode of implementation architecture</p>

<p style="color:rgb(255, 255, 255); text-align:left">        very basic examples, including shell script examples</p>

<p style="color:rgb(255, 255, 255); text-align:left">        and some amazingly worded advice:</p>

<p style="color:rgb(255, 255, 255); text-align:left"> </p>

<blockquote style="color:rgb(255, 255, 255)">
<h3 style="text-align:left"><span style="font-size:0.7em">If you know the perl language, then that is a powerful (if otherwise incomprehensible) language with which to hack together a server.</span></h3>
</blockquote>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="47b2cac4b25f8e0a97e4a3564f2dd1ee" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h1 style="color:rgb(255, 255, 255)">Easy to Implement</h1>
</div></div></section></section><section data-id="5ff756d57e94c091e7f06f07ea1bcc10"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 64px; height: auto;" data-block-id="01358d0af5cff6c69329b600bb30e3de"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>An Important Rule</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 280px; height: auto;" data-block-id="03f07253269491465299487f8c54daca"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Subtitle">
<h2 style="text-align: left;">If an implementation receives a header that it does not understand, it must ignore the header.</h2>
</div></div></section><section class="stack" data-id="c8f1c36bf085449535c4e68fae240de2"><section data-id="af791b6a895e3bd5fb7fc6e4ea77981c"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 61px; height: auto;" data-block-id="6677a4bfb197dd0681fa69255fb69878"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="overflow: visible; z-index: 11;">
<h1>HTTP 1.0</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="73e4e3e9f628e8cca34d56aed88c8f54" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 280px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;">
<p style="text-align:left">Described in RFC 1945, from May 1996, HTTP 1.0 documented "common usage" instead of being a formal specification. That is, like HTTP 0.9, HTTP 1.0 described core features of extant usage of HTTP.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">20 years later, the capabilities and protocol structure described in HTTP 1.0 still form the core of communication content and structure between HTTP clients and servers</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="72827db42c913e86a8de84b47dccc7b6" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 611px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p><span style="font-size:0.5em">http://www.isi.edu/in-notes/rfc1945.txt</span></p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="dde0c3d2b49e09e2b8ac57064776f0c9" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 158px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<h2>Wildly Successful</h2>
</div></div></section><section data-id="2f3864a11dcfc05b0d499a80929ae23f">
<div class="sl-block" data-block-type="text" data-block-id="0521e49b5662fb2777130caed277f315" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<ul>
	<li style="color:rgb(255, 255, 255)">GET</li>
	<li style="color:rgb(255, 255, 255)">POST</li>
	<li style="color:rgb(255, 255, 255)">HEAD</li>
	<li style="color:rgb(255, 255, 255)">PUT</li>
	<li style="color:rgb(255, 255, 255)">DELETE</li>
	<li style="color:rgb(255, 255, 255)">OPTIONS</li>
	<li style="color:rgb(255, 255, 255)">CONNECT</li>
	<li style="color:rgb(255, 255, 255)">other extensions allowed</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="99be10ae2ea98afc1f5c94e837418bec" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 70px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2 style="color:rgb(255, 255, 255)">More Diverse Request Methods</h2>
</div></div></section><section data-id="92ed1d4be4efce026e8a557dab490426"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="d07be6fe490c20548966cb5df151e61c">
<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" data-gramm_id="644690b9-2c21-f26a-589d-1eaad96e2f8f" data-gramm="true" data-gramm_editor="true" style="overflow: visible;" data-has-custom-html=""><h2>Additional Data Headers</h2></div>
<div><div style="z-index: 2; opacity: 1; margin-left: -1531px; margin-top: 3130px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3k"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3k.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 271px; height: auto;" data-block-id="325bab96e67ea8fc308f4f4235fc961c">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" data-gramm_id="a73772cd-ee5c-beb0-1e11-9c77244e9afc" data-gramm="true" data-gramm_editor="true" style="overflow: visible;" data-has-custom-html="">
<p style="text-align: left;">Allowed the client to pass additional information to the server via "HTTP Headers". These are composed of lines, terminated with CR/LF, and formatted as:</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">key: value</p>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: -7719px; margin-top: 4110px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3m"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3m.0"> </div></div></div>
</div></section><section data-id="b471ec2e0d05ed81f8ac22e8138e5588"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="69c9c5a32077ce06cc8a032a87b5d7c9">
<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" data-gramm_id="eb0f9458-18d9-247a-b43e-7965bff3a0e4" data-gramm="true" data-gramm_editor="true" style="overflow: visible;">
<h2>Core HTTP 1.0 Request Headers</h2>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: -5775px; margin-top: 2542px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3o"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3o.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 188px; height: auto;" data-block-id="ae3fea9a2653d701c6b03998f7bf8443">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" data-gramm_id="d6509ca3-527a-66d5-7450-2790e42e35b4" data-gramm="true" data-gramm_editor="true" style="overflow: visible;">
<ul>
	<li><span style="font-size:1.2em">Authorization</span></li>
	<li><span style="font-size:1.2em">From</span></li>
	<li><span style="font-size:1.2em">If-Modified-Since</span></li>
	<li><span style="font-size:1.2em">Referer</span></li>
	<li><span style="font-size:1.2em">User-Agent</span></li>
	<li><span style="font-size:1.2em">Pragma: no-cache</span></li>
</ul>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 44961px; margin-top: 7036px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3q"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3q.0"> </div></div></div>
</div></section><section data-id="45ef62fa1b2d00bfd802e70a2c962e6e"><div class="sl-block" data-block-type="text" style="width: 837px; left: 62px; top: 70px; height: auto;" data-block-id="da15d3b6e6e83140fc7a5a838de5f04f">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="5bec458e-b741-ab40-7383-9b679c41bd7b" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 11;">
<h1>Expanded Server Responses</h1>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: -2168px; margin-top: 2602px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3s"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3s.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="54f2f30e9b3441581a6069cb6ac7dff1" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 173px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;" data-gramm_id="e4fd7b13-1f35-e6fe-9fd2-03a314d68021" data-gramm="true" data-gramm_editor="true">
<h2>Status Line</h2>
</div>
<div><div style="z-index: 13; opacity: 1; margin-left: 339px; margin-top: 1679px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3u"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3u.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="e527f6f5c0703431fdf10b88d9fd6e82" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 331px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; overflow: visible;" data-gramm_id="ea2ebaf0-76d8-307d-acf0-da0d42244f9a" data-gramm="true" data-gramm_editor="true">
<p style="text-align:left">All responses are initiated with a status line.</p>

<p style="text-align:left">Indicates the HTTP protocol version in effect, a numeric code for the type of response, and a phrase providing a reason for the response. Lines are terminated with LF or CR/LF.</p>

<p style="text-align:left">For example:</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP/1.0 500 Internal Service Error</p>
</div>
<div><div style="z-index: 14; opacity: 1; margin-left: -19967px; margin-top: 5148px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3w"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3w.0"> </div></div></div>
</div></section><section data-id="cfd43341a55282dffdb394181e847cf6"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="e19a32de07973681b52795ce1eb269dc">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="3a3c72de-2de2-eb11-66ca-93f7e1b06428" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 11;">
<h1>Status Codes</h1>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: -4808px; margin-top: 1013px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".40"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".40.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="79b3d76a14ebaa64cd74543aee00933e" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 171px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;" data-gramm_id="5c9d09ba-e08d-f0de-d34a-a1da50bf4103" data-gramm="true" data-gramm_editor="true">
<p style="text-align:left">Let the client know what kind of response this is.</p>
</div>
<div><div style="z-index: 13; opacity: 1; margin-left: 741px; margin-top: 880px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".42"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".42.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="table" data-block-id="9e8a161f19e3105207fff9e6a03b6089" style="height: auto; min-width: 120px; min-height: 30px; width: 800px; left: 80px; top: 222px;"><div class="sl-block-content" style="z-index: 13; text-align: left;" data-table-rows="6" data-table-cols="2" data-table-has-header="true"><table><tbody>
<tr>
<th style="width: 257px;">Code Range</th>
<th>Purpose</th>
</tr>
<tr>
<td style="width: 257px;">1xx: Informational</td>
<td>Not used, but reserved for future use</td>
</tr>
<tr>
<td style="width: 257px;">2xx: Success</td>
<td>The action was successfully received, understood, and accepted.</td>
</tr>
<tr>
<td style="width: 257px;">3xx: Redirection</td>
<td>Further action must be taken in order to complete the request​</td>
</tr>
<tr>
<td style="width: 257px;">4xx: Client Error</td>
<td>The request contains bad syntax or cannot be fulfilled​</td>
</tr>
<tr>
<td style="width: 257px;">5xx: Server Error</td>
<td>The server failed to fulfill an apparently valid request</td>
</tr>
</tbody></table></div></div></section><section data-id="2b59ba387fff367d27a5e9a3f09c1791"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 22px; height: auto;" data-block-id="78099554b8e5cdbf9b22b300cbe96322">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="2442646c-f219-1666-a935-df639d93018d" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 10;">
<h1>Specific Status Codes</h1>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 398px; margin-top: 1142px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".5g"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".5g.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="table" data-block-id="3187579843d530f0b1ea57b09da8a325" style="height: auto; min-width: 120px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" style="z-index: 12;" data-table-rows="9" data-table-cols="4"><table><tbody>
<tr>
<th style="width: 83px;"><em>Code</em></th>
<th style="width: 318px;"><em>Description</em></th>
<th style="width: 83px;"><em>Code</em></th>
<th><em>Description</em></th>
</tr>
<tr>
<td style="width: 83px;">200</td>
<td style="width: 318px;">OK</td>
<td style="width: 83px;">400</td>
<td>Bad Request</td>
</tr>
<tr>
<td style="width: 83px;">201</td>
<td style="width: 318px;">Created</td>
<td style="width: 83px;">401</td>
<td>Unauthorized</td>
</tr>
<tr>
<td style="width: 83px;">202</td>
<td style="width: 318px;">Accepted</td>
<td style="width: 83px;">403</td>
<td>Forbiden</td>
</tr>
<tr>
<td style="width: 83px;">204</td>
<td style="width: 318px;">No Content</td>
<td style="width: 83px;">404</td>
<td>Not Found</td>
</tr>
<tr>
<td style="width: 83px;">301</td>
<td style="width: 318px;">Moved Permanently</td>
<td style="width: 83px;">500</td>
<td>Internal Server Error</td>
</tr>
<tr>
<td style="width: 83px;">302</td>
<td style="width: 318px;">Moved Temporarily</td>
<td style="width: 83px;">501</td>
<td>Not Implemented</td>
</tr>
<tr>
<td style="width: 83px;">304</td>
<td style="width: 318px;">Not Modified</td>
<td style="width: 83px;">502</td>
<td>Bad Gateway</td>
</tr>
<tr>
<td style="width: 83px;"></td>
<td></td>
<td>503</td>
<td>Service Unavailable</td>
</tr>
</tbody></table></div></div></section><section data-id="e984c537d3bae5570742112c56f74ec7"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="4177c6dbccfbe221534ba6634d532f82">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="db6ab4c8-f5a5-b211-9b49-980e5765f744" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 11;">
<h1>Response/Entity Headers</h1>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 499px; margin-top: 893px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".3y"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".3y.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="d55198f25a53c3407a0d9178979aeb10" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 167px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;" data-gramm_id="babe391e-6792-0a97-7ce1-d75361b53b69" data-gramm="true" data-gramm_editor="true">
<p style="text-align:left">Allow the server to provide additional information about the response itself, or the payload of the response, to the client. These are ASCII text terminated with a LF or CR/LF, in the same format as the request headers.</p>
</div>
<div><div style="z-index: 13; opacity: 1; margin-left: -920px; margin-top: 1510px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".63"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".63.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="table" data-block-id="e5e30a560d5ed9a999f1c4c6db85f70a" style="height: auto; min-width: 120px; min-height: 30px; width: 800px; left: 80px; top: 343px;"><div class="sl-block-content" style="z-index: 13;" data-table-rows="7" data-table-cols="2" data-table-has-header="true"><table><tbody>
<tr>
<th><em>Response Header</em></th>
<th>
<em>Entity Heade</em>r</th>
</tr>
<tr>
<td>Location</td>
<td>Allow</td>
</tr>
<tr>
<td>Server</td>
<td>Content-Encoding</td>
</tr>
<tr>
<td>WWW-Authenticate</td>
<td>Content-Length</td>
</tr>
<tr>
<td></td>
<td>Content-Type</td>
</tr>
<tr>
<td></td>
<td>Expires</td>
</tr>
<tr>
<td></td>
<td>Last-Modified</td>
</tr>
</tbody></table></div></div></section><section data-id="7db83aa9008e2d24f0751f05cede30e1"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 57px; height: auto;" data-block-id="9073cc980bb2c8788831cfbafbf704aa">
<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" data-gramm_id="1d62f669-4664-acea-2cf9-0f470907ea24" data-gramm="true" data-gramm_editor="true" style="overflow: visible; z-index: 10;">
<h1>Use What Makes Sense</h1>
</div>
<div><div style="z-index: 2; opacity: 1; margin-left: 768px; margin-top: 65px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".75"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".75.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="3aadab3cef19bd923e552371fa8dfd5f" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 149px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; overflow: visible;" data-gramm_id="e217f3a9-8972-3bce-95f1-8a032c884638" data-gramm="true" data-gramm_editor="true">
<h2>Practical Minimum Header Sets</h2>
</div>
<div><div style="z-index: 14; opacity: 1; margin-left: 768px; margin-top: 18px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".77"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".77.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="7f84f7a607bc36029677dc29d470b57e" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 63px; top: 280px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible; font-size: 90%;" data-gramm_id="dd39f695-eaee-1de9-f858-e308f73fc246" data-gramm="true" data-gramm_editor="true">
<p>200 OK - Barebones Response</p>
</div>
<div><div style="z-index: 15; opacity: 1; margin-left: 368px; margin-top: 3px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".79"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".79.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" data-block-id="21963594572a7df341e5ab6f97a6b637" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 63px; top: 315px;">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; border: 5px solid rgb(68, 68, 68); border-radius: 20px; overflow: visible; font-size: 60%; padding: 5px;" data-gramm_id="e74b3678-0aac-1bff-b2dc-d83e7377fccd" data-gramm="true" data-gramm_editor="true">
<pre style="text-align:left"><span style="font-size:1.0em">Content-Length: 12345
Content-Type: text/html</span></pre>
</div>
<div><div style="z-index: 16; opacity: 1; margin-left: 363px; margin-top: 35px;" class="gr-textarea-btn gr-textarea-btn_offline" data-grammarly-reactid=".7b"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".7b.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 512px; left: 63px; top: 495px;" data-block-id="755db98a2d09c6cc9e06ccd0deaac7cc">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; border: 5px solid rgb(68, 68, 68); border-radius: 20px; overflow: visible; font-size: 60%; padding: 5px;" data-gramm_id="e74b3678-0aac-1bff-b2dc-d83e7377fccd" data-gramm="true" data-gramm_editor="true">
<pre style="text-align:left"><span style="font-size:1.0em">Server: </span>WEBrick/1.3.1 (Ruby/2.3.0/2015-12-25)
<span style="font-size:1.0em">Content-Length: 12345
Content-Type: text/html</span>
<span style="font-size:1.0em">Expires: </span>Sun, 08 May 2016 16:07:32 GMT
Last-Modified: Sun, 17 Apr 2016 16:06:50 GMT</pre>
</div>
<div><div style="z-index: 16; opacity: 1; margin-left: 363px; margin-top: 35px;" class="gr-textarea-btn " data-grammarly-reactid=".7b"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".7b.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 506px; top: 280px;" data-block-id="58464011d619c114976b237eac80f36f">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17; overflow: visible; font-size: 90%;" data-gramm_id="dd39f695-eaee-1de9-f858-e308f73fc246" data-gramm="true" data-gramm_editor="true">
<p>302 Moved Temporarily</p>
</div>
<div><div style="z-index: 15; opacity: 1; margin-left: 368px; margin-top: 3px;" class="gr-textarea-btn gr-textarea-btn_show " data-grammarly-reactid=".79"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".79.0"> </div></div></div>
</div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 506px; top: 315px;" data-block-id="bca665f97ca9db84507b4e0a7f902857">
<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 18; border: 5px solid rgb(68, 68, 68); border-radius: 20px; overflow: visible; font-size: 60%; padding: 5px;" data-gramm_id="e74b3678-0aac-1bff-b2dc-d83e7377fccd" data-gramm="true" data-gramm_editor="true">
<pre style="text-align:left"><span style="font-size:1.0em">Location: http://foo.com/blah.html
</span></pre>
</div>
<div><div style="z-index: 16; opacity: 1; margin-left: 363px; margin-top: 35px;" class="gr-textarea-btn gr-textarea-btn_show " data-grammarly-reactid=".7b"><div title="Protected by Grammarly" class="gr-textarea-btn_status" data-grammarly-reactid=".7b.0"> </div></div></div>
</div></section><section data-id="e61c2dffb267fe1733f5777fa9b4642b"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="95e492fb9d0886717d22cc34346a7dde"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Entity Body</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="c6c208674c71efabdbe768543828f040" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 245px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 129%;">
<ul>
	<li style="text-align:left">Preceded by a single CR/LF line</li>
	<li style="text-align:left">Encoded as appropriate for the Content-Encoding and Content-Type</li>
	<li style="text-align:left">If Content-Length is provided, client will wait for that many bytes of data, and may disregard any extra data. Otherwise client accepts data until server disconnects.</li>
</ul>
</div></div></section><section data-id="f6f04b9adbc6116d6f897815890d0d9e"><div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 50px; height: auto;" data-block-id="18c46fdce83aa3c02d083e0dec3f7772"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" style="z-index: 10;">
<h2>Putting It All Together</h2>

<h3>HTTP/0.9</h3>
</div></div>
<div class="sl-block" data-block-type="image" style="width: 700px; height: 437.5px; left: 260px; top: 210px;" data-block-id="50f6f508ab09840414dea821755060a6"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="2880" data-natural-height="1800" data-src="lets-build-a-webserver/2490853-together_0.9.gif"></div></div>
<div class="sl-block" data-block-type="text" data-block-id="5d50dd338f7981e6ee3486005448701e" style="height: auto; min-width: 30px; min-height: 30px; width: 207px; left: 33px; top: 261px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; transition-duration: 0.6s; transition-delay: 7s;" data-animation-type="slide-right">
<p style="text-align: left;"><span style="font-size:0.7em">HTTP 0.9 Request</span></p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="1853ddde3f7040ccd6b30a0da8f6f2aa" style="height: auto; min-width: 30px; min-height: 30px; width: 207px; left: 33px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; transition-duration: 0.6s; transition-delay: 2s;" data-animation-type="slide-right">
<p style="text-align: left;"><span style="font-size:0.7em">Connect to server</span></p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 207px; left: 33px; top: 319px;" data-block-id="060e5c96a0aefe6b96a9aac915f82dd0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; transition-delay: 10s; transition-duration: 0.6s;" data-animation-type="fade-in">
<p style="text-align:left"><span style="font-size:21px">Simple Response<br>
No Status Line</span></p>

<p style="text-align:left"><span style="font-size:21px">No Headers</span></p>
</div></div></section><section data-id="3e24e28605cfe89a6c7cbcd7d4a58307"><div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 50px; height: auto;" data-block-id="7f8b5edb8336ed4ec57e639a76929f27"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" style="z-index: 10;">
<h2>Putting It All Together</h2>

<h3>HTTP/1.0</h3>
</div></div>
<div class="sl-block" data-block-type="image" style="width: 700px; height: 437.5px; left: 260px; top: 210px;" data-block-id="4185d77182703d5a13b49ba093d29c26"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="2880" data-natural-height="1800" data-src="lets-build-a-webserver/2490875-together_1.0.gif"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 207px; left: 33px; top: 261px;" data-block-id="dc10a04fa8e3d0956a99265c7f012ae4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; transition-duration: 0.6s; transition-delay: 7s;" data-animation-type="slide-right">
<p style="text-align:left"><span style="font-size:0.7em">HTTP 1.0 Request</span></p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 207px; left: 33px; top: 210px;" data-block-id="bf966d2546655c11bed54f9e74931045"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; transition-duration: 0.6s; transition-delay: 2s;" data-animation-type="slide-right">
<p style="text-align: left;"><span style="font-size:0.7em">Connect to server</span></p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 207px; left: 33px; top: 319px;" data-block-id="2613c13fc4e4b8d39e5eb74238ae3a5a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; transition-delay: 10s; transition-duration: 0.6s;" data-animation-type="fade-in">
<p style="text-align:left"><span style="font-size:21px; line-height:27.3px">Status line</span></p>

<p style="text-align:left"><span style="font-size:21px; line-height:27.3px">Headers</span></p>
</div></div></section><section data-id="31c6666a4176f9b7215c7be284b2fc11"><div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 50px; height: auto;" data-block-id="c0731991b2d82ff163da8defcf7ef663"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" style="z-index: 10;">
<h2>Putting It All Together</h2>

<h3>HTTP/2.0</h3>
</div></div>
<div class="sl-block" data-block-type="image" style="width: 700px; height: 437.5px; left: 260px; top: 210px;" data-block-id="757339b621677a11fcd4df248e51c6f3"><div class="sl-block-content" style="z-index: 11;"><img style="" data-natural-width="2880" data-natural-height="1800" data-src="lets-build-a-webserver/2490879-together_2.0.gif"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 207px; left: 33px; top: 261px;" data-block-id="c7da254e593a454d5705256745797811"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; transition-duration: 0.6s; transition-delay: 7s;" data-animation-type="slide-right">
<p style="text-align:left"><span style="font-size:0.7em">HTTP 1.0 Request</span></p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 207px; left: 33px; top: 210px;" data-block-id="9190ad872182796e3fe998a35ebe0ca8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; transition-duration: 0.6s; transition-delay: 2s;" data-animation-type="slide-right">
<p style="text-align: left;"><span style="font-size:0.7em">Connect to server</span></p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 220px; left: 33px; top: 319px;" data-block-id="a6ea1d089e99941ef01642c4dd982ff2"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; transition-delay: 10s; transition-duration: 0.6s;" data-animation-type="fade-in">
<p style="text-align:left"><span style="font-size:21px">Status line</span></p>

<p style="text-align:left"><span style="font-size:21px">Headers</span></p>

<p style="text-align:left"><span style="font-size:21px">Doesn't immediately disconnect.....</span></p>

<p style="text-align:left"><span style="font-size:21px">Connection: Keep-Alive</span></p>
</div></div></section><section data-id="96d16ea55b0d620f2618dbc9364e150f"><div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 50px; height: auto;" data-block-id="09daa093fc7fe18e88e5f738c483e300"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" style="z-index: 10;">
<h2>Putting It All Together</h2>

<h3>Did You Notice?</h3>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="0fbf54b0944e5f7dcafe3337faa8f9fc" style="min-width: 30px; min-height: 30px; width: 560px; height: 371px; left: 320px; top: 210px;"><div class="sl-block-content" style="z-index: 11;" data-highlight-theme="ir-black"><pre class="http"><code>HTTP/1.1 200 OK
Etag: 372b7ab-be-5713bcf2
Content-Type: text/html
Content-Length: 190
Last-Modified: Sun, 17 Apr 2016 16:42:26 GMT
Server: WEBrick/1.3.1 (Ruby/2.3.0/2015-12-25)
Date: Sun, 17 Apr 2016 17:15:54 GMT
Connection: close

&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Example Doc for HTTP 1.0 Request&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;p&gt;Here lies content.&lt;/p&gt;
        &lt;p&gt;It lived a simple life.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="40547dd4809832e290af68d147272c3d" style="height: auto; min-width: 30px; min-height: 30px; width: 82px; left: 40px; top: 201px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; transition-duration: 0.6s; transition-delay: 1s;" data-animation-type="slide-right">
<p style="text-align: left;"><span style="font-size:0.5em">HTTP/1.1 ?</span></p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 140px; left: 40px; top: 280px;" data-block-id="1b59136f68470361a1c1a87cc25f4e6c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; transition-duration: 0.6s; font-size: 60%; transition-delay: 6s;" data-animation-type="slide-right">
<p style="text-align:left"><span style="font-size:1.0em">What are these?</span></p>

<p style="text-align:left"> </p>

<p style="text-align:left"><span style="font-size:1.0em">Etag</span></p>

<p style="text-align:left"><span style="font-size:1.0em">Date</span></p>

<p style="text-align:left"><span style="font-size:1.0em">Connection</span></p>
</div></div>
<div class="sl-block" data-block-type="line" data-block-id="3e55e7d909e3ab5bed4bbb980b5bea10" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 92px; top: 251px;"><div class="sl-block-content" data-line-x1="-288" data-line-y1="96.5" data-line-x2="-77" data-line-y2="1" data-line-color="#ffffff" data-line-start-type="arrow" data-line-end-type="arrow" style="z-index: 14; transition-duration: 0.6s; transition-delay: 6.6s;" data-animation-type="fade-in"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="211" height="96" viewbox="-288 1 211 96"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-284" y1="95" x2="-81" y2="3"></line><line stroke="#ffffff" stroke-width="2" x1="-284" y1="95" x2="-81" y2="3"></line><polygon fill="#ffffff" transform="translate(-284,95) rotate(65.648)" points="0,4 4,-4 -4,-4"></polygon><polygon fill="#ffffff" transform="translate(-81,3) rotate(65.648)" points="0,-4 4,4 -4,4"></polygon></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 92px; top: 339px;" data-block-id="bf681ecbb67508589a84730fe4dd30c7"><div class="sl-block-content" data-line-x1="-303" data-line-y1="109.5" data-line-x2="-92" data-line-y2="74" data-line-color="#ffffff" data-line-start-type="arrow" data-line-end-type="arrow" style="z-index: 16; transition-duration: 0.6s; transition-delay: 7.6s;" data-animation-type="fade-in"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="211" height="36" viewbox="-303 74 211 36"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-299" y1="109" x2="-96" y2="75"></line><line stroke="#ffffff" stroke-width="2" x1="-299" y1="109" x2="-96" y2="75"></line><polygon fill="#ffffff" transform="translate(-299,109) rotate(80.45)" points="0,4 4,-4 -4,-4"></polygon><polygon fill="#ffffff" transform="translate(-96,75) rotate(80.45)" points="0,-4 4,4 -4,4"></polygon></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 145px; top: 357px;" data-block-id="8a5599941742b9eb51c50328157287ce"><div class="sl-block-content" data-line-x1="-265" data-line-y1="122.5" data-line-x2="-107" data-line-y2="76.75" data-line-color="#ffffff" data-line-start-type="arrow" data-line-end-type="arrow" style="z-index: 17; transition-duration: 0.6s; transition-delay: 8.6s;" data-animation-type="fade-in"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="158" height="46" viewbox="-265 77 158 46"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-261" y1="121" x2="-111" y2="78"></line><line stroke="#ffffff" stroke-width="2" x1="-261" y1="121" x2="-111" y2="78"></line><polygon fill="#ffffff" transform="translate(-261,121) rotate(73.851)" points="0,4 4,-4 -4,-4"></polygon><polygon fill="#ffffff" transform="translate(-111,78) rotate(73.851)" points="0,-4 4,4 -4,4"></polygon></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 129px; top: 227px;" data-block-id="243592efde05de59bbe73def6083953e"><div class="sl-block-content" data-line-x1="-266" data-line-y1="-38" data-line-x2="-92" data-line-y2="-38" data-line-color="#ffffff" data-line-start-type="arrow" data-line-end-type="arrow" style="z-index: 18; transition-duration: 0.6s; transition-delay: 1.2s;" data-animation-type="fade-in"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="174" height="1" viewbox="-266 -38 174 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-262" y1="-38" x2="-96" y2="-38"></line><line stroke="#ffffff" stroke-width="2" x1="-262" y1="-38" x2="-96" y2="-38"></line><polygon fill="#ffffff" transform="translate(-262,-38) rotate(90)" points="0,4 4,-4 -4,-4"></polygon><polygon fill="#ffffff" transform="translate(-96,-38) rotate(90)" points="0,-4 4,4 -4,4"></polygon></svg></div></div></section><section data-id="bd2fedb81b589c9dcc2546691aee363b"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="b3ae5d9dd80b2cd835390bb69dfcd549"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="font-size: 83%; z-index: 11;">
<h1>A Server Isn't Strictly Constrained by Request Protocol</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="fecb42f1d6d28b2541b6b95f0d22ac3a" style="height: auto; min-width: 30px; min-height: 30px; width: 882px; left: 39px; top: 280px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 98%;">
<ul>
	<li style="text-align:left">Clients ignore what they don't understand.</li>
	<li style="text-align:left">HTTP is generally backwards compatible.</li>
	<li style="text-align:left">HTTP 1.0 amended to HTTP 1.1 after 3 years; this added more now-ubiquitous near-essential headers.</li>
	<li style="text-align:left">        Date - The time from the server point of view</li>
	<li style="text-align:left">        ETag - Hash value of the content; helps caches</li>
	<li style="text-align:left">        Connection - What happens after the response is returned</li>
	<li style="text-align:left">WEBrick returns HTTP 1.1 responses for any HTTP 1.x requests.</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="b628af183034375b8604a6bb73b53d3a" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 591px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p><span style="font-size:0.5em">https://tools.ietf.org/html/rfc2616</span></p>
</div></div></section></section><section class="stack" data-id="04ed999611020d8a99259241c97c82e1"><section data-id="2d8af58b301a76565139d3ceeb7cd56c"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="e7002dc6c3b633360544afeaa0459e87"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="overflow: visible; z-index: 11;">
<h1>HTTP 1.1</h1>

<h2>The De Facto Modern Standard</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 331px;" data-block-id="5993aea0d56177586ee5cb15d05de8d1"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; overflow: visible;">
<p style="text-align:left">RFC 2616, from June 1999</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP 1.0 was still lacking in some features that turned out to be very useful. HTTP 1.1 filled those gaps, and 17 years later it's still the backbone of HTTP server capability.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 591px;" data-block-id="e4b2596836729cd133f1a8b692632c39"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p><span style="font-size:0.5em">https://www.ietf.org/rfc/rfc2616.txt</span></p>
</div></div></section><section data-id="17273e36027cc41692f9d38880857ef3"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 64px; height: auto;" data-block-id="fdf28f72ee1fcbb75067965e73860bc7"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Key Protocol Changes</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="1974a05fa69ab18bbf763d6ece9cd629" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;" dir="ui"><ul>
<li style="text-align:left">Send a <em>Date</em>​ if at all possible</li>
<li style="text-align:left">Connection Management</li>
<li style="text-align:left">Host Identification</li>
<li style="text-align:left">Message Transmission</li>
<li style="text-align:left">Bandwidth Optimization</li>
<li style="text-align:left">Caching</li>
<li style="text-align:left">Security</li>
<li style="text-align:left">Content Negotiation</li>
<li style="text-align:left">Future Proofing</li>
<li style="text-align:left">Errors</li>
</ul></div></div></section><section data-id="2990d14f497c55296d2acdd09543f74a"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="bcc16f35d95dc6d520a300f1f7e233ad"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1><em>Connection: Keep-Alive</em></h1>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 210px;" data-block-id="8661e5686b6440b3c498d504b39a03cf"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<ul>
	<li>A single page may require many assets to assemble it.</li>
	<li>Setup/teardown of many TCP requests is expensive.</li>
	<li>Expensive == slow</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 373px;" data-block-id="449aef4959f472a12e017a1875f04858"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align:left">"<em>Connection: Keep-Alive</em>" permits pipelining of requests through a single network connection between client and server.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 552px;" data-block-id="a51af3d4ba6733841ce7b469f0b0252d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p style="text-align:left">Not part of RFC 1945; effectively bolted onto HTTP 1.0 because of it's utility, but actually part of HTTP 1.1.</p>
</div></div></section><section data-id="73419e8b93d12ccbd901565ea453caa3"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 61px; height: auto;" data-block-id="17cafb24cec60e51c9624713df37540a"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1><em>Connection: Keep-Alive</em></h1>
</div></div>

<div class="sl-block" data-block-type="text" data-block-id="598e17c1489067dd8d1bd7c899f072cc" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align:left">HTTP 1.0 clients must send "<em>Connection: Keep-Alive</em>" if they</p>

<p style="text-align:left">support it. Otherwise, an HTTP 1.1+ server will assume no support and send:</p>
</div></div>

<div class="sl-block" data-block-type="text" data-block-id="b2cca27793005170828e71a50245e330" style="height: auto; min-width: 30px; min-height: 30px; width: 403px; left: 270px; top: 383px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2><em><span style="color:rgb(255, 255, 255); text-align:left">Connection: close</span></em></h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="cee2cb0efb539a74d885f6acc09a15c1" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 521px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align:left">"<em>Close</em>" tells the client that the connection will be closed after the complete response has been sent.</p>
</div></div></section><section data-id="739db9780d0100d8e5627009f41c348e"><div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 62px; height: auto;" data-block-id="6b06c63b650dffb4cc04391022410c58"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1><em>Connection: Keep-Alive</em></h1>
</div></div>


<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 79px; top: 362px;" data-block-id="32edadfba18b67360b8cd120137aa7ff"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align:left">"<em>Connection: close</em>" is always safe. A client that has specified Keep-Alive will cope if the server doesn't honor it and returns "<em>Connection: close</em>"</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 79px; top: 552px;" data-block-id="a3b623251fb7679bc8ac026ff1ddfb73"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align:left">HTTP 2.0 has much expanded <em>Keep-Alive</em>, supporting concurrent requests over a single connection.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 79px; top: 210px;" data-block-id="971d1dfc93553f9d2c884dd86781e9a0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align:left"><span style="color:rgb(255, 255, 255); text-align:left">HTTP 1.1+ servers should assume <em>Keep-Alive</em> unless client tells it otherwise. However...</span></p>
</div></div></section><section data-id="00402f5a5494d5a08312e6289150b805"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="bf688ba562d18c68b776ff8f37278e8c"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>
<em>Connection</em> and</h1>

<h1>Single-Hop Headers</h1>
</div></div>



<div class="sl-block" data-block-type="text" data-block-id="a4eb02a60e267a0f410d7bb6b53732f3" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 315px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;" dir="ui">
<p style="text-align:left">HTTP 1.1 allows special handling for headers that apply for only a single hop in a message's path.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">For example, proxy servers that might add headers separate from what came from the originating client.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">Any headers listed in the <em>Connection</em> header are removed by</p>

<p style="text-align:left">the recipient before forwarding the message to the next hop.</p>
</div></div></section><section data-id="11a4034dddbd2ccf1919f3794eb48946"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="3babe866be0482aaf00e3051aa303b88"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1><em>Host</em></h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 247px;" data-block-id="78355c0446470f5047c7172c06527402"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align:left">Prior to HTTP 1.1, an HTTP server assumed that all request to it were for the same host/site.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">i.e. site.a.foo.com and site.b.foo.com both go to a server at 192.168.23.23, an HTTP 1.0 server treats them both the same.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">An HTTP 1.1+ server, though, can differentiate requests on 192.168.23.23 for site.a.foo.com and site.b.foo.com, and serve different responses for each.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="c75a1dfa9b51d5fce03322714e695564" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 151px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Virtual Hosting</h2>
</div></div></section><section data-id="1ea72699fdba0f889d381ee9390d20b3"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="8354e5ad5f99654320350c8ef9b9d82a"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Message Transmission</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="b3528a66175b35b92857cd6a582ecf42" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align: left;">Imagine:</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="73bd09f2188990d9f0c8a5450652e318" style="min-width: 30px; min-height: 30px; width: 387px; height: 30px; left: 82px; top: 280px;"><div class="sl-block-content" style="z-index: 13;" data-highlight-theme="ir-black"><pre class="http"><code>GET /media/giant_file.mpeg HTTP/1.0</code></pre></div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 259px; height: 85px; left: 80px; top: 384px;" data-block-id="ca255f6dd85ce201a23c6fe237b3cc63"><div class="sl-block-content" style="z-index: 14;" data-highlight-theme="ir-black"><pre class="http"><code>HTTP/1.0 200 OK
Content-Type: video/mp4
Content-Length: 540387995
Connection: close</code></pre></div></div>
<div class="sl-block" data-block-type="shape" data-block-id="2ea1045f8e469f579bd939e6444f047b" style="min-width: 4px; min-height: 4px; width: 23px; height: 49px; left: 194px; top: 326px;"><div class="sl-block-content" data-shape-type="arrow-down" data-shape-fill-color="rgb(255, 255, 255)" data-shape-stretch="true" style="z-index: 15;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveaspectratio="none" viewbox="0 0 23 49"><polygon points="11.5,49 23,24.5 16.099999999999998,24.5 16.099999999999998,0 6.8999999999999995,0 6.8999999999999995,24.5 0,24.5 11.5,49" class="shape-element" fill="rgb(255, 255, 255)"></polygon></svg></div></div>
<div class="sl-block" data-block-type="line" data-block-id="e8decd8294910272aca1f0ad5692d1b3" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 339px; top: 434px;"><div class="sl-block-content" data-line-x1="-41" data-line-y1="184" data-line-x2="100" data-line-y2="184" data-line-color="#ffffff" data-line-start-type="arrow" data-line-end-type="circle" style="z-index: 16;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="141" height="1" viewbox="-41 184 141 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-37" y1="184" x2="97" y2="184"></line><line stroke="#ffffff" stroke-width="2" x1="-37" y1="184" x2="97" y2="184"></line><polygon fill="#ffffff" transform="translate(-37,184) rotate(90)" points="0,4 4,-4 -4,-4"></polygon><ellipse rx="3" ry="3" cx="97" cy="184" fill="#ffffff"></ellipse></svg></div></div>
<div class="sl-block" data-block-type="text" data-block-id="9c74115742db072f9140d14d40770791" style="height: auto; min-width: 30px; min-height: 30px; width: 392px; left: 488px; top: 362px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17; font-size: 75%;">
<p style="text-align:left">That is a lot of data to send in one big chunk, or for the server to potentially process in one big chunk. A Ruby string containing more than 500 megabytes would use a lot of RAM, for example.</p>
</div></div></section><section data-id="ccc22fa85ae4cba84e4c174c06c35d74"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="6077538e81fd85cdb6e497f0f5d897f9"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Message Transmission</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="83597203f98812442f182a8df596f727" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 350px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align:left">Wouldn't it be nice if a very large response, or one where the length isn't know when transmission starts, could be sent a little bit at a time?</p>
</div></div></section><section data-id="5aee43e96778e001b79912ef8acb0442"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="8198b91af48e90256df0bac85e807534"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Message Transmission</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 400px; left: 80px; top: 320px;" data-block-id="c9a3cb6cb1296b402df5ed931d9f7e5f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 94%;">
<h3><span style="font-size:1.2em">Chunked encoding to the rescue.</span></h3>

<p style="text-align:left"> </p>

<p style="text-align:left">Send content in smaller pieces, by prepending the length of each chunk, in hexadecimal, on on a line preceding the  chunk itself.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="88b3f1e398fafaef899bf039a64b90ed" style="height: auto; min-width: 30px; min-height: 30px; width: 640px; left: 160px; top: 171px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2><em>Transfer-Encoding: chunked</em></h2>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="477a78376fa811b304b3f1a4d5fc534a" style="min-width: 30px; min-height: 30px; width: 346px; height: 300px; left: 534px; top: 330px;"><div class="sl-block-content" style="z-index: 14;" data-highlight-theme="ir-black"><pre class="http"><code>&lt;= Recv data, 105 bytes (0x69)
0000: 10
0004: I am some conten
0016: 10
001a: t that will be p
002c: 10
0030: arted out into a
0042: 10
0046:  bunch of small
0058: 7
005b: chunks.
0064: 0
0067:
</code></pre></div></div></section><section data-id="10ea1283ee3f9a81e0a83c22991d6191"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="df49936f964abbcfd3587fae99dd8e47"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Message Transmission</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 400px; left: 80px; top: 320px;" data-block-id="e95dec45b59c8f1808e514abaf808cb9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 81%; line-height: 1.612;" data-has-line-height="">
<ul>
	<li style="text-align: left;">Lines terminated with CRLF</li>
	<li style="text-align: left;">Chunk is a length line, expressed in hexadecimal, followed by a content line.</li>
	<li style="text-align: left;">Chunks are terminated by an empty chunk with a length of zero.</li>
	<li style="text-align: left;">
<em>Content-Length</em> must not be sent when using chunked encoding.</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 640px; left: 160px; top: 171px;" data-block-id="897a20131ab02d33c68c4a13cf964617"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2><em>Transfer-Encoding: chunked</em></h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 346px; height: 300px; left: 534px; top: 330px;" data-block-id="a2b70649f5a64725fb22fa1b8eb06c16"><div class="sl-block-content" style="z-index: 14;" data-highlight-theme="ir-black"><pre class="http"><code>&lt;= Recv data, 105 bytes (0x69)
0000: 10
0004: I am some conten
0016: 10
001a: t that will be p
002c: 10
0030: arted out into a
0042: 10
0046:  bunch of small
0058: 7
005b: chunks.
0064: 0
0067:
</code></pre></div></div></section><section data-id="1520f4210b6abb76269672fc2c832acb"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="06a6e8a99595b0292e4ddb8abb9f786f"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Message Transmission</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 86px; top: 152px;" data-block-id="b2672ef7d6ef8a79b0a545ee0e2e7d4b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 95%;">
<h2>Beware <em>Content-Length</em> + <em>Transfer-Encoding: chunked</em>
</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="cdefd9da82766cc0228659a2eb52e26f" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 314px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 98%; line-height: 1.235;" dir="ui" data-has-line-height="">
<p style="text-align:left">If you are writing a server, chunked encoding is very useful for large content. However, beware code that blindly computes and attaches a <em>Content-Length</em> to all HTTP responses.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">It "works", but it recently quit working in some cases - <strong>Windows 7 Chrome</strong> streaming to an external app like <strong>Adobe Reader</strong>, for example.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">It's invalid HTTP, and so what "works" now may not tomorrow.</p>
</div></div></section><section data-id="64ff24d5ef1e8faa9997708f319cf2e3"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="6087f0b6d08f4ba2eee36342d853c795"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="e5542d28c4af8596904f901960e491c8" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align: left;">Bandwidth is a very limited resource.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">HTTP 1.0 had limited tools to allow clients and servers to make more efficient use of their bandwidth.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">Compression was supported, but poorly.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">Partial requests, or incremental requests, were not supported at all.</p>
</div></div></section><section data-id="22986d99f401874aa72e779c249cab44"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="1218cc9fe790080ff127e9263edeb01c"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="4fcb1d17b7436d2a3dc2dd17a7053f2e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align:left">HTTP 1.0 didn't distinguish between content encodings, such as compression, that applied to a message end-to-end versus hop-to-hop.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP 1.0 had poor support for negotiating compression.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP 1.1 specifically and extensively defines the protocol for both negotiation, and disambiguation between encoding inherent in the format of the message (end-to-end encoding) and encoding applied only for a single hop.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="b1c8c7a009aef6af38040eecc8ee2345" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 149px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div></section><section data-id="01eb6fd948054776427246c647b807df"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="97b180ae5ae3c6176c6b27f9cc93ffda"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="ef518f9de342da037824a9a06a85d80d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2 style="text-align:left"><em>Content-Encoding</em></h2>

<p> </p>

<p style="text-align:left">This describes an encoding which is an inherent quality of the resource. It can be used by a server when returning a message to a client.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="c22b376f1d1870e143c1f7a5af6a39fa"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div></section><section data-id="1d0fd7e2e126dd046cd0e1dba9a64608"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="1fd315ab799e9721095389cf10e92bf4"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="845a9590984a914a7dde022940d335f9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2 style="text-align:left"><em>Accept-Encoding</em></h2>

<p> </p>

<p style="text-align:left">HTTP 1.1 carefully defines this header, which is used by a client to tell the server about encodings (such as gzip) that it</p>

<p style="text-align:left">can support for <em>Content-Encoding</em>, and it's preferences.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="2fc5041ca06610e27b46c363e8948579"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="4b0e0a6f5c23e285f35a37525f6c4d7f" style="min-width: 30px; min-height: 30px; width: 550px; height: 46px; left: 205px; top: 550px;"><div class="sl-block-content" style="z-index: 14; font-size: 153%;" data-highlight-theme="ir-black"><pre class="http"><code>Accept-Encoding:gzip, deflate, sdch</code></pre></div></div></section><section data-id="2f5bfbf7853741bc7a0742c137d77657"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="d5f30ba05cbb90c8f1833e59238f39fe"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="ab00d58788e85f3b7e28f97199b5cb8d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;" dir="ui">
<h2 style="text-align:left"><em>Transfer-Encoding</em></h2>

<p> </p>

<p style="text-align:left">This is intended to describe the hop-by-hop transport layer encoding of the resource. The intention of the HTTP protocol is that this header will be used when a server compresses content, such as a web page, on the fly, before transmission to a client in order to save bandwidth.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="aab8065f8815ece093240389e0cf4183"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div></section><section data-id="10171a810cf8853b495c7b0e16b50385"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="4bbdea3ac9bd4bf0b64402115ecb91f9"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="da3e800f01a0a83cd3863bf8987af732"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2 style="text-align:left"><em>TE</em></h2>

<p style="text-align:left">The <em>TE</em> header is akin to <em>Accept-Encoding</em>, but applies to the use of the <em>Transfer-Encoding</em> header. In addition to defining encodings, it can also be used to indicate whether the client is willing to accept trailer fields with chunked encoding. Read the RFC for more information about trailer fields.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="744e3f4dd7aa6d8addb31f759a63b8ab"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 627px; height: 54px; left: 167px; top: 560px;" data-block-id="ac7b548470c01c60f6a307faa9896c92"><div class="sl-block-content" style="z-index: 14; font-size: 153%;" data-highlight-theme="ir-black"><pre class="http"><code>TE:trailers, gzip; q=0.8, deflate; q=0.5</code></pre></div></div></section><section data-id="2252db9600b39da20b9799b48698bba1"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="b8c153fc60df781f06f4c32dffd61d4a"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 281.5px; left: 28px; top: 210px;" data-block-id="d32e334580f95a04f5888f66bda8675a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 69%;" dir="ui">
<h2 style="text-align:left"><em>Content-Encoding</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="22c4f128aa7eaee2a63b07d21a051315"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="image" data-block-id="20d1afaac4e9bd2ee90978133f4772dd" style="min-width: 30px; min-height: 30px; width: 360px; height: 360px; left: 300px; top: 270px;"><div class="sl-block-content" style="z-index: 14;"><img style="" data-natural-width="640" data-natural-height="640" data-src="lets-build-a-webserver/2526411-71770fba1155ed2b24588faa3860c8e9.jpg"></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 292px; left: 647px; top: 630px;" data-block-id="c56ac5a06cf919f7a4d9d2e0aeef511b"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; font-size: 69%;" dir="ui">
<h2 style="text-align:left"><em>Transfer-Encoding</em></h2>
</div></div></section><section data-id="15965ca4c397c8aeb819e873be36a3dc"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="ec00a6f33309d4ccf3e9e5c7c10a19cd"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="2add997bf3e593e9d71df03477879d45"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 88%;" dir="ui">
<h2 style="text-align:left"><em>Content-Encoding vs Transfer-Encoding</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="1c80052256bd55eeeaba2c2f443f6469"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="image" data-block-id="3c124d29ed65beef626b6e9e6a7039e3" style="min-width: 30px; min-height: 30px; width: 668.444px; height: 376px; left: 145.778px; top: 324px;"><div class="sl-block-content" style="z-index: 14;"><img data-natural-width="800" data-natural-height="450" style="" data-src="lets-build-a-webserver/2526435-good-intentions.jpg"></div></div></section><section data-id="ff798b9759a0b8ef92427ddfc3d422fd"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="949995d6f97057d50a652f406e9d7797"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="f816379fde9e87fd83f38861aff8bfad"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 88%;" dir="ui">
<h2 style="text-align:left"><em>Content-Encoding vs Transfer-Encoding</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="fe3b7bac077acbe6646db795d0153e78"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="7de615dfb3c8e93cc090e46d1bc4264e" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 331px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; font-size: 90%;">
<p>Actual implementation in the real world of HTTP sometimes varies.</p>
</div></div>
<div class="sl-block" data-block-type="image" data-block-id="b0c347ef3a5188dc3fcb1b9f588bbe91" style="min-width: 30px; min-height: 30px; width: 360px; height: 223.801px; left: 80px; top: 414px;"><div class="sl-block-content" style="z-index: 15;"><img style="" data-natural-width="563" data-natural-height="350" data-src="lets-build-a-webserver/2526565-LB1QKUNC5RXLTP6.jpg"></div></div>
<div class="sl-block" data-block-type="text" data-block-id="f06b34f2cc3858f669b28bcd00b0fe8d" style="height: auto; min-width: 30px; min-height: 30px; width: 111px; left: 95px; top: 428px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16;">
<p style="text-align: left;">Imagine</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="954f0f7076eb01d2bc30d8a83d92e60a" style="height: auto; min-width: 30px; min-height: 30px; width: 136px; left: 304px; top: 440px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17;">
<p style="text-align:left">if you</p>

<p style="text-align:left">          will...</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="250ebce38045c3e6c6314d8d6194b256" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 480px; top: 428px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 18; font-size: 91%;">
<p style="text-align: left;">A client is willing to accept on-the-fly compression of web pages and other uncompressed assets.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">A server is willing to send them.</p>
</div></div></section><section data-id="e45be57204f58d4cb7689ce8a70222da"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="66ae0e630ac38c6aa30b482f04fe48cb"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="20d72792fa237949cd94b8a5c0b984a4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 88%;" dir="ui">
<h2 style="text-align:left"><em>Content-Encoding vs Transfer-Encoding</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="a8a70d1cb70a0a9a463286cca9dfec44"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 411px; height: 35px; left: 80px; top: 420px;" data-block-id="8269a74275a0cb215fde94927c2a4502"><div class="sl-block-content" style="z-index: 13;" data-highlight-theme="ir-black"><pre class="http"><code>TE:trailers, gzip; q=0.8, deflate; q=0.5</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="381b960d6ad262744931545723baaa85" style="height: auto; min-width: 30px; min-height: 30px; width: 375px; left: 80px; top: 350px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p style="text-align: left;">By RFC, client can send:</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="f211eb12b086e8fc93c1e980e23f3aad" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 480px; top: 483px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16;">
<p style="text-align: left;">And server may respond:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="width: 257px; height: 35px; left: 480px; top: 560px;" data-block-id="eb220a28d5d0bf68f0eb8f30cc686061"><div class="sl-block-content" style="z-index: 17;" data-highlight-theme="ir-black"><pre class="http"><code>Transfer-Encoding: gzip</code></pre></div></div></section><section data-id="6d047c1c3dda197d18104d6778f72382"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="eb0dd1a5014b8228fc1011f441b19f1a"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="f71e450bb20677aa17c5b66ed661785d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 88%;" dir="ui">
<h2 style="text-align:left"><em>Content-Encoding vs Transfer-Encoding</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="0d2ed5a0904febbab36f555fdca61ebd"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="ba6d899f84c33c2a1c684b0d85ff803a" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 350px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align: left;">In practice, your mileage may vary; most implementations use <em>Accept-Encoding</em> and <em>Content-Encoding</em> to negotiate and deliver on-the-fly compression of resources.</p>
</div></div></section><section data-id="824e87f5cbef4bc390fdd7632ecda7c5"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="5d5cf3ab0dc2c4e20e50646f331535c1"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="53144412a180f59fdffcd4dd625fa3a9"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 88%;" dir="ui">
<h2 style="text-align:left"><em>Content-Encoding vs Transfer-Encoding</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="23bb50ef5736c78e13fe6e26f8abca6e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 400px; height: 32px; left: 80px; top: 420px;" data-block-id="c10bbdda0e12cde449ff3259150d4d7d"><div class="sl-block-content" style="z-index: 13;" data-highlight-theme="ir-black"><pre class="http"><code>Accept-Encoding:gzip, deflate, sdch</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="7742d61fea75ad4e515239ef2b4a9bfa" style="height: auto; min-width: 30px; min-height: 30px; width: 300px; left: 80px; top: 350px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p style="text-align: left;">Client actually sends:</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="bd0e3dc74ebdfc5816bb760b3813d5cf" style="height: auto; min-width: 30px; min-height: 30px; width: 367px; left: 480px; top: 490px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16;">
<p style="text-align: left;">Server then responds with:</p>
</div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 330px; height: 32px; left: 480px; top: 560px;" data-block-id="da2eb031919be64466fe6d7f8ddf6a57"><div class="sl-block-content" style="z-index: 17;" data-highlight-theme="ir-black"><pre class="http"><code>Content-Encoding:gzip</code></pre></div></div></section><section data-id="dfe23def3f38c4ea7ab9600d93818560"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="d57d9bd3e71f50b8df9e47310a5eb639"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="2063e7aad267e71f276d61f17a467a82"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 88%;" dir="ui">
<h2 style="text-align:left"><em>Content-Encoding vs Transfer-Encoding</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="a526b57b02a45b9bc777746f67d45425"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="6fc4e7b3e90f78105b2e076dc9eb1b0e" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 350px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; font-size: 95%;">
<p style="text-align: left;">HTTP gets complicated very quickly in the real world, so be careful with features you choose to support and implement.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">Another example. The <em>deflate</em> encoding is defined by RFC to be data compressed with the deflate (RFC 1951) algorithm, formatted into a zlib (RFC 1950) stream. Microsoft clients and servers historically treated it as a raw deflate stream, however, which was incompatible with an RFC compliant implementation.</p>
</div></div></section><section data-id="02cb340fb7b544573a5be19639f20383"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="57d888abf29a0017e290e58b42081c2f"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 243px;" data-block-id="3504e4e22813413cca4852926e9ac0d7"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 88%;" dir="ui">
<h2><em>TL;DR Summary</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="d20bbf9e25024cfaff5f135f05ca27f1"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Compression</h2>
</div></div>
<div class="sl-block" data-block-type="image" data-block-id="b0ec040e9cc83ad1731c868403787021" style="min-width: 30px; min-height: 30px; width: 800px; height: 248px; left: 80px; top: 330px;"><div class="sl-block-content" style="z-index: 14;"><img data-natural-width="400" data-natural-height="124" style="" data-src="lets-build-a-webserver/2526714-104040.strip.gif"></div></div>
<div class="sl-block" data-block-type="text" data-block-id="d54f7e26ba985875adeb1f4868a6f728" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 618px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p>Read the RFC, then check how it's actually implemented.</p>
</div></div></section><section data-id="f0e3e7cb6b0f1df0073a91fb34dae081"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="b4c786835a1b6614ff452ebd8472faed"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Bandwidth Optimization</h1>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 149px;" data-block-id="c80bf6ac998cf4d26e2ee5feb11bcfbe"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Range Requests</h2>
</div></div>

<div class="sl-block" data-block-type="text" data-block-id="140942c1d94bc955d7c36ee4689b0188" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 280px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Allows retrieval of only a fragment of a resource.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="ad12e45a510d893d354ee8944544b8ae" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 350px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<ul>
	<li style="text-align: left;">Continue a failed transfer</li>
	<li style="text-align: left;">Tail a large, growing file <span style="font-size:0.7em">(e.x. web version of <em>tail -f /var/log/messages</em>)</span>
</li>
	<li style="text-align: left;">Retrieve document previews</li>
	<li style="text-align: left;">Retrieve a very large file over an extended period of time via range requests for smaller, manageable chunks.</li>
</ul>
</div></div></section><section data-id="2c3ce6334eb599849f89b3062f95656f"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="ac69f4add9a66891b2235acbcde0bf62"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Content-Negotiation</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="37f03a6bc5343cf7e23222e05a231b21" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 222px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 85%;">
<p style="text-align:left">The world has many languages, character sets, encodings, and media types. HTTP 1.0 provided a mechanism for clients to express content preferences, but it was ambiguously specified.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP 1.1 is much more explicit and expansive. </p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="6b0da9cbf0d8c6ba65054f26e636b0ab" style="min-width: 30px; min-height: 30px; width: 353px; height: 30px; left: 80px; top: 420px;"><div class="sl-block-content" style="z-index: 12; font-size: 95%;" data-highlight-theme="ir-black"><pre class="http"><code>Accept-Language: en, es;q=0.5, nl;q=0.1</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="4202ae8286bedb1b0ed39bc994cf751e" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 159px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p><span style="font-size:0.9em">https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html</span></p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="9760e84ee7668a7a536f31a892b5d9fe" style="min-width: 30px; min-height: 30px; width: 353px; height: 67px; left: 80px; top: 465px;"><div class="sl-block-content" style="z-index: 14; font-size: 95%;" data-highlight-theme="ir-black"><pre class="http"><code>Accept: text/html;q=1.0, text/*;q=0.8,
        image/png;q=0.7, image/*;q=0.5,
        */*;q=0.1</code></pre></div></div>
<div class="sl-block" data-block-type="code" data-block-id="e4b3c2ea4659efda77830463ef58845c" style="min-width: 30px; min-height: 30px; width: 353px; height: 37px; left: 80px; top: 545px;"><div class="sl-block-content" style="z-index: 15; font-size: 95%;" data-highlight-theme="ir-black"><pre class="http"><code>Accept-Charset: iso-8859-1, utf-8;q=0.9</code></pre></div></div>
<div class="sl-block" data-block-type="code" data-block-id="3a4a9b61abdcc5cd8ce7308ea0bd4ea7" style="min-width: 30px; min-height: 30px; width: 463px; height: 33px; left: 80px; top: 594px;"><div class="sl-block-content" style="z-index: 16; font-size: 95%;" data-highlight-theme="ir-black"><pre class="http"><code>Accept-Encoding: gzip, compress;q=0.8, deflate;q=0.1</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="fb543de9b2705d2a4a2a382681f6f9be" style="height: auto; min-width: 30px; min-height: 30px; width: 429px; left: 451px; top: 419px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17; font-size: 80%;">
<p style="text-align: left;">English, Spanish, or Dutch as a last resort</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="a184b92ed49a16f44739ddfd3bf1dc5a" style="height: auto; min-width: 30px; min-height: 30px; width: 429px; left: 451px; top: 470px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 18; font-size: 80%;">
<p style="text-align:left">HTML, or other text formats, PNGs, other image formats, or anything else.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 429px; left: 451px; top: 548px;" data-block-id="2f0305b9bc83aa0b8a270cdae728f6d6"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 19; font-size: 80%;">
<p style="text-align:left">ISO-8859-1 or UTF-8</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 560px; top: 595px;" data-block-id="2fcc7e07df90b3e7cf6a18fbe8972770"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 21; font-size: 80%;">
<p style="text-align:left">GZip, compress, or deflate as a last resort.</p>
</div></div></section><section data-id="acd53498aab947d381e6422e6cd30fa4"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="65251725d83aad1926324d72bafca9cc"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Caching</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="40620234cc8d7a905d9a768c45adb095" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 149px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Caching is love.</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="825f4d807b33c0521ef6d48e67ae5778" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 290px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;" dir="ui">
<p style="text-align:left">HTTP 1.0 supported caching.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP 1.1 improves it.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="c7874b9bb3ddd4dd0ee2af95b53a3d32" style="height: auto; min-width: 30px; min-height: 30px; width: 334px; left: 129px; top: 442px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<ul>
	<li style="text-align: left;">ETag</li>
	<li style="text-align: left;">Conditional Headers</li>
	<li style="text-align: left;">Cache-Control</li>
	<li style="text-align: left;">Vary</li>
</ul>
</div></div></section><section data-id="72edf898bff654f0dd9ac2c897dac0ea"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="e69b446fc77c902275e44b7e770f6304"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Caching</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 149px;" data-block-id="a46e3b7d371db3ccd21f173a3cc62e64"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2><em>Last-Modified</em></h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 290px;" data-block-id="62db66e2f4f29d2e4c59261184f3dad2"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;" dir="ui">
<p style="text-align:left">A server should send a <em>Last-Modified</em> header with a response, provided that there is a reasonable and consistent way to determine this.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="82a89bfa5ac58d98ec7cc2d03612da64" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 452px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align: left;">Ruby makes it simple to generate a properly formatted date:</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="86e5aae66ce0a5b3ab391fd9f8f38114" style="min-width: 30px; min-height: 30px; width: 371px; height: 91px; left: 80px; top: 504px;"><div class="sl-block-content" style="z-index: 15; font-size: 125%; transition-duration: 1.6s; transition-delay: 0.3s;" data-highlight-theme="ir-black" data-animation-type="slide-right"><pre class="hsp"><code>require 'time'

File.mtime( resource ).httpdate</code></pre></div></div>
<div class="sl-block" data-block-type="code" data-block-id="14e867d018111b94a6af1f3ba31626f0" style="min-width: 30px; min-height: 30px; width: 346px; height: 35px; left: 534px; top: 595px;"><div class="sl-block-content" style="z-index: 16; font-size: 125%; transition-duration: 2.6s; transition-delay: 0.9s;" data-highlight-theme="ir-black" data-animation-type="slide-left"><pre class="hsp"><code>Tue, 15 Sep 2015 13:21:54 GMT</code></pre></div></div>
<div class="sl-block" data-block-type="line" data-block-id="93c3f170264ff7fd20179870e6e2aad5" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 451px; top: 550px;"><div class="sl-block-content" data-line-x1="71" data-line-y1="299.5" data-line-x2="154" data-line-y2="345" data-line-color="#ffffff" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 17; transition-delay: 0.6s; transition-duration: 2.1s;" data-animation-type="fade-in"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="83" height="45" viewbox="71 300 83 45"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="71" y1="300" x2="152" y2="344"></line><line stroke="#ffffff" stroke-width="2" x1="71" y1="300" x2="152" y2="344"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(152,344) rotate(118.731)" d="M 6 6 L 0 0 L -6 6"></path></svg></div></div></section><section data-id="a25f3a6af4011a73fd05e62a87a9a799"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="645d5d17ff7d3770c034b228320aff29"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Caching</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 133px; left: 80px; top: 173px;" data-block-id="35faa064e170a4b1518b2ff6f0717ea4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2 style="text-align: left;">ETag</h2>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="6b67af946feb86abaf2b8050504be98e" style="min-width: 30px; min-height: 30px; width: 402px; height: 139px; left: 480px; top: 176px;"><div class="sl-block-content" style="z-index: 13; transition-duration: 1.9s; transition-delay: 1s;" data-highlight-theme="ir-black" data-animation-type="fade-in"><pre class="hsp"><code>HTTP/1.1 200 OK
ETag: ab788a046ac8c135891669d8531d6fa9
Content-Type: image/jpeg
Content-Length: 114962
Transfer-Encoding: chunked
Date: Thu, 28 Apr 2016 12:25:35 GMT</code></pre></div></div>
<div class="sl-block" data-block-type="line" data-block-id="c6fb5377d806de8fc6592433ca0a028c" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 234px; top: 210px;"><div class="sl-block-content" data-line-x1="-220" data-line-y1="66" data-line-x2="0" data-line-y2="66" data-line-color="#ffffff" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 14; transition-duration: 1.3s; transition-delay: 0.7s;" data-animation-type="slide-right" data-line-width="5px"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="220" height="1" viewbox="-220 66 220 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-219.5" y1="66.5" x2="-3.5" y2="66.5"></line><line stroke="#ffffff" stroke-width="5" x1="-219.5" y1="66.5" x2="-3.5" y2="66.5"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="5" transform="translate(-4,66) rotate(90)" d="M 11.25 11.25 L 0 0 L -11.25 11.25"></path></svg></div></div>
<div class="sl-block" data-block-type="text" data-block-id="5e9674db2854f77f34ca143050cc56fa" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 82px; top: 332px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; line-height: 1.105;" data-has-line-height="">
<p style="text-align:left">An <em>ETag</em> is an entity tag. It is an opaque indicator of the uniqueness of a resource.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">i.e. it is a hash</p>

<p style="text-align:left"> </p>

<p style="text-align:left">A server may construct the <em>ETag</em> in any way. The only requirement is that the <em>ETag</em> be comparable to others from the same server, and that identical tags indicate an identical resource.</p>
</div></div></section><section data-id="faf9c844bc3e7b819e3a350f7973e192"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="9313813de5b4f488f322d9ec2e629ca4"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Caching</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 528px; left: 216px; top: 152px;" data-block-id="dd159b74349e0ff43ad56a0cf9c00e58"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Conditional Headers</h2>
</div></div>


<div class="sl-block" data-block-type="text" data-block-id="46dcce1a5e02a0e3d9d5d384786a80c0" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 280px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align:left">As with everything in HTTP, the full specification is pretty involved: <em>https://tools.ietf.org/html/rfc7232</em></p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="11f44f66c4c574e7a1f29f55696359b0" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 420px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<ul>
	<li style="text-align: left;"><em>If-Match</em></li>
	<li style="text-align: left;"><em>If-None-Match</em></li>
	<li style="text-align: left;"><em>If-Modified-Since</em></li>
	<li style="text-align: left;"><em>If-Unmodified-Since</em></li>
	<li style="text-align: left;"><em>If-Range</em></li>
</ul>
</div></div></section><section data-id="d59a117d37da89e2af34f280582fe139"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="818262dd474c1a9cb911bc508aaf347a"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Caching</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 528px; left: 216px; top: 152px;" data-block-id="aaa023ccd01d177ff6a3dc436c3ffcf8"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Cache-Control</h2>
</div></div>


<div class="sl-block" data-block-type="text" data-block-id="168394513bdfea5d7e98c5f609a56b0c" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 238px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align:left">Also complex:</p>

<p style="text-align: left;"><span style="font-size:0.9em"><em>https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9</em></span></p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="49007b5f38d076e33f9fabe8ba642bf2" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 344px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align:left">May be used in both by both clients and servers, in both requests and responses, to modify caching behavior.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="f44ce8fc149b71f1bf6fec9e764dbe51" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 452px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p style="text-align:left">Directives such as <em>max-age</em> can ensure relatively fresh responses, even in the face of clock skew, while the <em>private</em> and <em>no-store</em> directives help to hedge against caches keeping private data, or data that is fresh only for the immediate response. See the RFC for full details.</p>
</div></div></section><section data-id="b3d3658acc1ab4aa116fad65313ae65d"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 63px; height: auto;" data-block-id="3408c422f81a7a6b63895b9c1a065307"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Caching</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 528px; left: 216px; top: 152px;" data-block-id="352606e0276bf8184d72a6fb8bea4cc5"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Vary</h2>
</div></div>


<div class="sl-block" data-block-type="text" data-block-id="5700d3f375dd719625a155c65996ecef" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 253px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Content negotiation means that a single URL can potentially return multiple different resources.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;"><em>Vary</em> tells a caching implementation to consider additional URLs when calculating an <em>ETag</em> to use in comparing content for cache validation purposes.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">For example:</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="7527935dc95014ae3c2226a5aa29c359" style="min-width: 30px; min-height: 30px; width: 256px; height: 36px; left: 305px; top: 552px;"><div class="sl-block-content" style="z-index: 14; font-size: 125%;" data-highlight-theme="ir-black"><pre class="hsp"><code>Vary: Accept-Language</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="12c87ecd84ae948bd53545c05a938c32" style="height: auto; min-width: 30px; min-height: 30px; width: 283px; left: 597px; top: 518px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; font-size: 90%;">
<p style="text-align:left">Factor the contents of <em>Accept-Language</em> into the generated <em>ETag</em>.</p>
</div></div></section><section data-id="400de6765b4fa089952188cb69122caa"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="f0849c5f04fa3b6ca0ee2972d0716c57"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Security</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="2acc3b0c4e9de890ef0e1aaabbd7d34a" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 150px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Authentication</h2>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="b109a5ac50d35bc8292f9050e1ee005a" style="min-width: 30px; min-height: 30px; width: 424px; height: 150px; left: 509px; top: 340px;"><div class="sl-block-content" style="z-index: 13;" data-highlight-theme="ir-black"><pre class="http"><code>HTTP/1.1 401 Unauthorized
Date: Sat, 30 Apr 2016 23:39:59 GMT
WWW-Authenticate: Basic realm="sekrit_stuff"
Expires: Sat, 30 Apr 2016 23:39:59 GMT
Last-Modified: Thu, 28 Apr 2016 19:54:23 GMT
Content-Length: 0
Content-Type: text/html</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="105b9e3d5a5d9e9b9b62dbf746502296" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 495px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; font-size: 80%;">
<p style="text-align:left"><span style="font-size:0.9em">Client (typically) queries user for username/password, then reissues the request with an <em>Authentication</em> header containing those attributes. Client may cache and continue sending these attributes for any requests for the same realm.</span></p>

<p style="text-align:left"> </p>

<p style="text-align:left"><span style="font-size:0.9em">Weakness of this is that the username / password is transmitted in clear text.</span></p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="eb1016d9b407107cfae0239ef42d7873" style="height: auto; min-width: 30px; min-height: 30px; width: 417px; left: 80px; top: 276px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; font-size: 80%;">
<p style="text-align:left"><span style="font-size:1.0em">HTTP/1.0 defined <em>Basic authentication</em>, a challenge/response mechanism for authenticated access to a resource.</span></p>

<p style="text-align:left"> </p>

<p style="text-align:left"><span style="font-size:0.9em">Server responds to a request with a<em> WWW-Authenticate</em> header.</span></p>
</div></div>
<div class="sl-block" data-block-type="line" data-block-id="92259214cf838fb0471ea7a8e434fcb7" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 363px; top: 393px;"><div class="sl-block-content" data-line-x1="-17" data-line-y1="143" data-line-x2="117" data-line-y2="143" data-line-color="#ffffff" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 16;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="134" height="1" viewbox="-17 143 134 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-17" y1="143" x2="115" y2="143"></line><line stroke="#ffffff" stroke-width="2" x1="-17" y1="143" x2="115" y2="143"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(115,143) rotate(90)" d="M 6 6 L 0 0 L -6 6"></path></svg></div></div></section><section data-id="6313ccff3c502a74a6536228f88d1243"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="02c0ee1e49218cd4b7f73f028f1a888d"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Security</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 150px;" data-block-id="dab764609aefd4f93994221b990eaba4"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Digest Authentication</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="38d18f0f2e8149f4440bf1bdd12db521" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 241px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Full details at: <em>https://tools.ietf.org/html/rfc2617</em></p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="9237f223c54022cd9510cd94a5c5bc52" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 331px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align: left;">Same fundamental sequence as Basic Authentication, but it includes more information, and uses hashing algorithms:</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="e7bd9da7e9893913e6dd5f7cb4b941fb" style="min-width: 30px; min-height: 30px; width: 403px; height: 124px; left: 70px; top: 459px;"><div class="sl-block-content" style="z-index: 15; font-size: 72%;" data-highlight-theme="ir-black"><pre class="http"><code>HTTP/1.1 401 Unauthorized
Date: Sat, 30 Apr 2016 23:39:59 GMT
WWW-Authenticate: Digest realm="sekrit_stuff",
                  qop=auth
                  nonce="58647bd2acd7935c4b058702c363e872",
                  opaque="05dd324d8d5129a65a4e0c8d34b9e1f3"
Content-Type: text/html
Content-Length: 0</code></pre></div></div>
<div class="sl-block" data-block-type="code" data-block-id="773d328e969823748660709f83e2c9e7" style="min-width: 30px; min-height: 30px; width: 427px; height: 161px; left: 493px; top: 498px;"><div class="sl-block-content" style="z-index: 16; font-size: 72%;" data-highlight-theme="ir-black"><pre class="http"><code>GET /index.html HTTP/1.1
Host: localhost
Authorization: Digest username="Mufasa",
               realm="testrealm@host.com",
               nonce="f527aab47bb12114c31725da7df9fb7e",
               uri="/index.html",
               qop=auth,
               nc=00000001,
               cnonce="f1c4a297",
               response="6629fae49393a05397450978507c4ef1",
               opaque="05dd324d8d5129a65a4e0c8d34b9e1f3"</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="18552448ed35c21490d6ae6cdec8bd4b" style="height: auto; min-width: 30px; min-height: 30px; width: 221px; left: 161px; top: 420px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17;">
<p><span style="font-size:27px; line-height:35.1px">Server Response</span></p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="03717e48fb77dd18e7e5fa70fe6cdba0" style="height: auto; min-width: 30px; min-height: 30px; width: 375px; left: 533px; top: 459px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 18;">
<p><span style="font-size:0.9em">Client Authenticated Request</span></p>
</div></div></section><section data-id="ea5b8e931a27b08d3eb01c6db02e48cb"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="ab4787546347bca960e08c820a14ee6e"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Security</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 150px;" data-block-id="908f24ed545784e97154b8e0701d58ff"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Proxy Authentication</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="d4a9bb8e158d1a6b86ed9aa927498242" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 314px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 93%;">
<p style="text-align:left">Hop-by-hop version of <em>WWW Authenticate</em> and <em>Authorization</em></p>

<p style="text-align:left">headers, intended for proxy usage.</p>

<p style="text-align:left"> </p>

<p style="text-align:left"><em>Proxy-Authenticate</em></p>

<p style="text-align:left"><em>Proxy-Authorization</em></p>

<p style="text-align:left"> </p>

<p style="text-align:left">Use <em>407 Proxy Authentication Required</em> instead of a <em>401 </em> status line.</p>
</div></div></section><section data-id="f2f59197c18954bafbbe62f740c13c47"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 60px; height: auto;" data-block-id="5fa1a94897decf9d3376e0458b674a61"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Errors</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="85d4a80770e20484b021eb7227a9fab6" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 95%;">
<p style="text-align:left">HTTP/1.1 added 24 new status codes, plus a mechanism for returning warnings on an ostensibly successful response.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">Notable new status codes:</p>

<p style="text-align:left"> </p>

<ul>
	<li><span style="font-size:0.9em">409 (Conflict), returned when a request would conflict with the current state of the resource. For example, a PUT request might violate a versioning policy.</span></li>
	<li><span style="font-size:0.9em">410 (Gone), used when a resource has been removed permanently from a server, and to aid in the deletion of any links to the resource.</span></li>
</ul>
</div></div></section><section data-id="33ca70491ca9dd13060f1565188fb572"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 60px; height: auto;" data-block-id="295ac1008dc53693ef12382856dfba89"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Errors</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 247px;" data-block-id="0eed71b22f5f94cd4e89aab558c8616e"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 85%;" dir="ui"><p>https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.46</p></div></div>
<div class="sl-block" data-block-type="text" data-block-id="e2c9c0699ce0fd83ba1396282c726968" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 151px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<h2>Warnings</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="46cb32e88e164e55bb1274b6a8cc5c16" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 331px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align: left;">Warning headers provide caveats or additional information about an ostensibly successful response.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="2b9d10e83992c0ba7c70834dc01ef814" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 490px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p style="text-align: left;">Can be used to provide additional information on caching operations or transformations. See the RFC if you are implementing complex cache/transformation behaviors.</p>
</div></div></section><section data-id="243eadb23c6c280eb34117b9abe59cf0"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 59px; height: auto;" data-block-id="04e17ea878f6edd372da208b7f5488e9"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>It's Complex</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="b29605dc8ed5ccdc2a980575c7d4058e" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 171px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11; font-size: 95%; line-height: 1.235;" dir="ui" data-has-line-height="">
<p style="text-align:left">HTTP is a mix of specification and description of common usage.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP/1.1          <em>​https://www.w3.org/Protocols/rfc2616/rfc2616.html</em></p>

<p style="text-align:left"> </p>

<p style="text-align:left">It has evolved substantially over time.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP/2.0           <em>ht</em><em>tps://tools.ietf.org/html/rfc7540</em></p>

<p style="text-align:left"> </p>

<p style="text-align:left">HTTP downgrades well when features that a client wants are missing, so for any server implementation, start simply, then layer HTTP features, referring to the RFCs frequently. When in doubt, research how other implementations do it.</p>
</div></div>
<div class="sl-block" data-block-type="shape" data-block-id="12a5ed3731cd9ca34f11edbe8c3453af" style="min-width: 4px; min-height: 4px; width: 43px; height: 21px; left: 209px; top: 430px;"><div class="sl-block-content" data-shape-type="arrow-right" data-shape-fill-color="rgb(255, 255, 255)" data-shape-stretch="true" style="z-index: 12;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveaspectratio="none" viewbox="0 0 43 21"><polygon points="0,6.3 21.5,6.3 21.5,0 43,10.5 21.5,21 21.5,14.7 0,14.7" class="shape-element" fill="rgb(255, 255, 255)"></polygon></svg></div></div>
<div class="sl-block" data-block-type="shape" style="min-width: 4px; min-height: 4px; width: 43px; height: 21px; left: 209px; top: 264px;" data-block-id="5d91d6b2ebfe08f2b10359993e5fb665"><div class="sl-block-content" data-shape-type="arrow-right" data-shape-fill-color="rgb(255, 255, 255)" data-shape-stretch="true" style="z-index: 14;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" preserveaspectratio="none" viewbox="0 0 43 21"><polygon points="0,6.3 21.5,6.3 21.5,0 43,10.5 21.5,21 21.5,14.7 0,14.7" class="shape-element" fill="rgb(255, 255, 255)"></polygon></svg></div></div></section></section><section class="stack" data-id="ad116397b0ffcb0ba7d6d0a4684c2afd"><section data-id="4c1505572915b877050ea3faf6f6ed1e"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="319c0cb9cc70936e426411398c4432df"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Web Server Architecture</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="98e96f173fa96e755e8deb11ea624d94" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 80px; top: 196px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; line-height: 1.391;" data-has-line-height="">
<p style="text-align:left">There is nothing special about web server architecture.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">It is just server architecture.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">A web server is nothing more than a server that receives HTTP requests and returns HTTP responses, typically through standard socket communications.</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="7da1f2dadb0348c2d144e6d6a796b987" style="min-width: 30px; min-height: 30px; width: 411px; height: 481px; left: 521px; top: 196px;"><div class="sl-block-content" style="z-index: 13; font-size: 90%;" data-highlight-theme="ir-black"><pre class="ruby"><code>require 'socket'

def run
  simple_server = TCPServer.new("0.0.0.0", 8080)

  loop do
    connection = simple_server.accept
    handle connection
  end
end

def get_request connection
  connection.gets
end

def process request
  "OK"
end

def handle connection
 request = get_request connection
 response = process request
 connection.puts response
 connection.close
end

run</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="1c3ddbc1021ffb9f0e577595789fcc34" style="height: auto; min-width: 30px; min-height: 30px; width: 173px; left: 634px; top: 157px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p><span style="font-size:0.7em">Basic TCP Server</span></p>
</div></div></section><section data-id="65e4f5db11e89186ced13b4452b35bc0"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="ddcf49999e08869cd5aac258de72781d"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>OK.... Server Architecture</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="8f23bdec817248ba26f4d8ec29d7a36b" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 212px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align: left;">• Setup</p>

<p style="text-align: left;">      • Command line arguments</p>

<p style="text-align: left;">      • Configuration</p>

<p style="text-align: left;">• Listen on socket(s)</p>

<p style="text-align: left;">• Enter main loop</p>

<p style="text-align: left;">      • Accept socket connection</p>

<p style="text-align: left;">      • Handle connection</p>

<p style="text-align: left;">• Be prepared to handle signals for clean shutdown</p>
</div></div></section><section data-id="0dbf5a3638359125dd57af612e202234"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="b528aa23f0b3d87a4a8dd0d4f2eb0015"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Setup</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="917f5581c04f63f318f6ba5938663d52" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 160px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Command Line Arguments</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="3ba8791ba9ad6e8d21c9f7805770bc37" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 241px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align:left">Ruby has an absurd wealth of different libraries and frameworks for handing CLI option parsing and app creation.</p>
</div></div>
<div class="sl-block" data-block-type="table" data-block-id="07c36f1a1776cd6a6243d61511092c5d" style="height: auto; min-width: 120px; min-height: 30px; width: 800px; left: 80px; top: 320px;"><div class="sl-block-content" style="z-index: 14; font-size: 65%;" data-table-border-width="1px" data-table-rows="9" data-table-cols="2" data-table-has-header="false"><table><tbody>
<tr>
<td style="width: 158px;">OptionParser</td>
<td>http://ruby-doc.org/stdlib-2.3.0/libdoc/optparse/rdoc/OptionParser.html</td>
</tr>
<tr>
<td style="width: 158px;">Highline</td>
<td>https://github.com/JEG2/highline</td>
</tr>
<tr>
<td style="width: 158px;">Methadone</td>
<td>https://github.com/davetron5000/methadone</td>
</tr>
<tr>
<td style="width: 158px;">GetOpt</td>
<td>https://github.com/djberg96/getopt</td>
</tr>
<tr>
<td>Belafonte</td>
<td>https://github.com/ess/belafonte</td>
</tr>
<tr>
<td>Main</td>
<td>https://github.com/ahoward/main</td>
</tr>
<tr>
<td>GLI</td>
<td>https://github.com/davetron5000/gli</td>
</tr>
<tr>
<td>Thor</td>
<td>https://github.com/erikhuda/thor</td>
</tr>
<tr>
<td>Samovar</td>
<td>https://github.com/ioquatix/samovar</td>
</tr>
</tbody></table></div></div>
<div class="sl-block" data-block-type="text" data-block-id="6d42c757a084964bf4c8439c72fa09a5" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 645px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p style="text-align: left;">...and about 30 others. Use what you like. Ruby has options!</p>
</div></div></section><section data-id="8aea5557ed4578a07f446cd1078eeb55"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="b185b9adaef65b8a855b2958b8d3d12c"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 14;">
<h1>Setup</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 160px;" data-block-id="ef6e39918956f1f43c43f538dd7ed274"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<h2>Configuration</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="c1fcc90089386c8cb870bba00b3fb50f" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 241px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16;">
<p style="text-align: left;">As with command line options, Ruby offers a diverse set of simple tools for handling configuration files.</p>
</div></div>
<div class="sl-block" data-block-type="table" data-block-id="4bd361c6c0e2bebe269230da3e7624d5" style="height: auto; min-width: 120px; min-height: 30px; width: 800px; left: 80px; top: 342px;"><div class="sl-block-content" style="z-index: 10; font-size: 65%;" data-table-cols="2" data-table-has-header="false" data-table-rows="5"><table><tbody>
<tr>
<td style="width: 163px;">Ruby<br>
<br>
<br>
<br>
 </td>
<td>
<br>
<br>
<br>
 </td>
</tr>
<tr>
<td style="width: 163px;">JSON File</td>
<td>
<br>
 </td>
</tr>
<tr>
<td style="width: 163px;">YAML File</td>
<td>
<br>
 </td>
</tr>
<tr>
<td style="width: 163px;">Configatron</td>
<td>https://github.com/markbates/configatron</td>
</tr>
<tr>
<td>Settingslogic</td>
<td>https://github.com/settingslogic/settingslogic</td>
</tr>
</tbody></table></div></div>
<div class="sl-block" data-block-type="code" data-block-id="8cec0f10d0210852c5bed3aae7e00199" style="min-width: 30px; min-height: 30px; width: 623px; height: 65px; left: 250px; top: 350px;"><div class="sl-block-content" style="z-index: 13;"><pre class="ruby"><code>Class AppConfiguration
  LISTEN_ON = ['0.0.0.0:80','127.0.0.1:5000']
end
</code></pre></div></div>
<div class="sl-block" data-block-type="code" data-block-id="9a760487714316f71a673115284ec92e" style="min-width: 30px; min-height: 30px; width: 623px; height: 52px; left: 250px; top: 482px;"><div class="sl-block-content" style="z-index: 11; font-size: 98%;"><pre class="ruby"><code>require 'json'
AppConfiguration = JSON.parse( File.read( config_file_path ) )</code></pre></div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 623px; height: 52px; left: 250px; top: 544px;" data-block-id="65445c355db6260c1af0fb25f22a87af"><div class="sl-block-content" style="z-index: 17; font-size: 98%;"><pre class="ruby"><code>require 'yaml'
AppConfiguration = YAML.load( File.read( config_file_path ) )</code></pre></div></div>
<div class="sl-block" data-block-type="code" style="min-width: 30px; min-height: 30px; width: 623px; height: 30px; left: 250px; top: 443px;" data-block-id="7af71a3066d3c303f6213f5b39e1b12b"><div class="sl-block-content" style="z-index: 18; font-size: 98%;"><pre class="ruby"><code>require 'app_configuration.rb'</code></pre></div></div></section><section data-id="24c23fdbe29059368e080d2da621f702"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="44b4c2b50f984c36dfc3858e7ecad2c9"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Listen on Sockets</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="d3895727f5b697db44e07557d764dc28" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 157px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>AKA Network Communications</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="ceec8551e06aba3c8580b4c56b1d0fb1" style="height: auto; min-width: 30px; min-height: 30px; width: 809px; left: 80px; top: 244px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; font-size: 94%;">
<p style="text-align:left">A server needs a way to receive requests and to return responses.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">The two most common options:</p>

<p style="text-align:left"> </p>

<ul>
	<li style="text-align: left;">Native Ruby Networking Support (TCPServer and friends)</li>
	<li style="text-align: left;">EventMachine</li>
</ul>
</div></div></section><section data-id="25f8e63198331bd3010f94a5242a9a86"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="cf9e5acbfbecdbf6dcb858701fef9406"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Listen on Sockets</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 157px;" data-block-id="0e168431429f09fd10b55e924370e282"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;" dir="ui"><h2>Native Ruby Networking Support</h2></div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 809px; left: 80px; top: 244px;" data-block-id="6660916382617a45088e4640c4c07db0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 94%;">
<p style="text-align:left">Ruby has a rich set of networking libraries, making it easy to write TCP clients and servers.</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="1a30aae1cbf915d88331fefbd8f8a6e7" style="min-width: 30px; min-height: 30px; width: 466px; height: 388px; left: 414px; top: 289px;"><div class="sl-block-content" style="z-index: 14;" data-highlight-theme="ir-black"><pre class="ruby"><code>require 'socket'

class SimpleServer &lt; TCPServer

  def initialize( address, port )
    super( address, port )
  end

  def run( address = '127.0.0.1', port = 80 )
    loop do
      socket = server.accept
      handle_request( socket.gets )
    end
  end

  def handle_request( req )
    # Do Stuff with req
  end

end
</code></pre></div></div></section><section data-id="98e9488f5ce9a280a3a7fa69e8069626"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 59px; height: auto;" data-block-id="85ad51b088e100422f0cc4cbcdbaeea6"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="21d96ac8d8f77aa5ccc84861b64c555c" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 149px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>i.e. Concurrency Options</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="2f7d620214c48f5c8fdea13d920fc2c1" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 251px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 95%;">
<p style="text-align:left">How a server handles concurrency is fundamental to it's design.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">The prior basic server template was a blocking server.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">Handles a single request at a time.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">Long running requests cause the OS to queue waiting requests on the socket.</p>
</div></div></section><section data-id="320aae4067ba2e62e2db428c3f2dd271"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 59px; height: auto;" data-block-id="2eb8f91ba4eb01a209578b02a0fb35ad"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 150px;" data-block-id="1d9f931d827b32daa8b8879cf6abf117"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Blocking Server</h2>
</div></div>
<div class="sl-block" data-block-type="image" data-block-id="7bf82941f62e3161c82fa4809441e5f9" style="min-width: 30px; min-height: 30px; width: 803px; height: 447.517px; left: 79px; top: 237px;"><div class="sl-block-content" style="z-index: 13;"><img style="" data-natural-width="698" data-natural-height="389" data-src="lets-build-a-webserver/2553434-longline.jpg"></div></div></section><section data-id="37360b3303c5ddcea5a463e359500196"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="0a4ec4576d45c213f3d76b040a348837"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Short Tangent</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="width: 800px; left: 73px; top: 148px; height: auto;" data-block-id="46929f5c686f6747e0df3118d76eb8c8"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Subtitle" style="z-index: 12;">
<h2>Simplest Ruby Web Server....</h2>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="5a6815249dcfd08fbe5da6003e360da3" style="min-width: 30px; min-height: 30px; width: 480px; height: 34px; left: 240px; top: 230px;"><div class="sl-block-content" style="z-index: 13;" data-highlight-theme="ir-black"><pre class="hsp"><code>ruby -run -e httpd -- -p 8080 .</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="d7f3249c2a79cb357dc8790da51bf733" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 289px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p>OK....That's kind of cheating.</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="a38633de65d87767d361dcb744bdda2d" style="min-width: 30px; min-height: 30px; width: 440px; height: 331px; left: 440px; top: 350px;"><div class="sl-block-content" style="z-index: 15; font-size: 65%;" data-highlight-theme="ir-black"><pre class="ruby"><code># frozen_string_literal: false
#
# = un.rb
#
# Copyright (c) 2003 WATANABE Hirofumi &lt;eban@ruby-lang.org&gt;
#
# This program is free software.
# You can distribute/modify this program under the same terms of Ruby.
#
# == Utilities to replace common UNIX commands in Makefiles etc
#
# == SYNOPSIS
#
#   ruby -run -e cp -- [OPTION] SOURCE DEST
#   ruby -run -e ln -- [OPTION] TARGET LINK_NAME
#   ruby -run -e mv -- [OPTION] SOURCE DEST
#   ruby -run -e rm -- [OPTION] FILE
#   ruby -run -e mkdir -- [OPTION] DIRS
#   ruby -run -e rmdir -- [OPTION] DIRS
#   ruby -run -e install -- [OPTION] SOURCE DEST
#   ruby -run -e chmod -- [OPTION] OCTAL-MODE FILE
#   ruby -run -e touch -- [OPTION] FILE
#   ruby -run -e wait_writable -- [OPTION] FILE
#   ruby -run -e mkmf -- [OPTION] EXTNAME [OPTION]
#   ruby -run -e httpd -- [OPTION] DocumentRoot
#   ruby -run -e help [COMMAND]
</code></pre></div></div>
<div class="sl-block" data-block-type="line" data-block-id="161effd3643cec542cc56cffb4148e14" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 73px; top: 651px;"><div class="sl-block-content" data-line-x1="-33" data-line-y1="210" data-line-x2="319" data-line-y2="210" data-line-color="#ffffff" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 16;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="352" height="1" viewbox="-33 210 352 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-33" y1="210" x2="317" y2="210"></line><line stroke="#ffffff" stroke-width="2" x1="-33" y1="210" x2="317" y2="210"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(317,210) rotate(90)" d="M 6 6 L 0 0 L -6 6"></path></svg></div></div></section><section data-id="476b69c56759a24f20f68592af2bbae6"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="8793783ac288bab7ad6d84f6ea485a74"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Short Tangent</h1>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="cd1607485fa7cfe2fbca3a28d9c13a5c" style="min-width: 30px; min-height: 30px; width: 800px; height: 436px; left: 114px; top: 194px;"><div class="sl-block-content" style="z-index: 12;" data-highlight-theme="ir-black"><pre class="ruby"><code>def httpd
  setup("", "BindAddress=ADDR", "Port=PORT", "MaxClients=NUM", "TempDir=DIR",
        "DoNotReverseLookup", "RequestTimeout=SECOND", "HTTPVersion=VERSION") do
    |argv, options|
    require 'webrick'
    opt = options[:RequestTimeout] and options[:RequestTimeout] = opt.to_i
    [:Port, :MaxClients].each do |name|
      opt = options[name] and (options[name] = Integer(opt)) rescue nil
    end
    options[:Port] ||= 8080     # HTTP Alternate
    options[:DocumentRoot] = argv.shift || '.'
    s = WEBrick::HTTPServer.new(options)
    shut = proc {s.shutdown}
    siglist = %w"TERM QUIT"
    siglist.concat(%w"HUP INT") if STDIN.tty?
    siglist &amp;= Signal.list.keys
    siglist.each do |sig|
      Signal.trap(sig, shut)
    end
    s.start
  end
end
</code></pre></div></div>
<div class="sl-block" data-block-type="line" data-block-id="24d35d99a109e69bf7674fd378730617" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 18px; top: 286px;"><div class="sl-block-content" data-line-x1="-362" data-line-y1="36" data-line-x2="-278" data-line-y2="36" data-line-color="#ffffff" data-line-start-type="none" data-line-end-type="line-arrow" style="z-index: 13;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="84" height="1" viewbox="-362 36 84 1"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-362" y1="36" x2="-280" y2="36"></line><line stroke="#ffffff" stroke-width="2" x1="-362" y1="36" x2="-280" y2="36"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(-280,36) rotate(90)" d="M 6 6 L 0 0 L -6 6"></path></svg></div></div></section><section data-id="f6619846f8f32df182f676a01ce6964a"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="a1890a7d93ad2ec20dfadca1244b0324"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>A Real (simple) Server</h1>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="5a94aa49ce486dc05839c95735b40d5a" style="min-width: 30px; min-height: 30px; width: 800px; height: 480px; left: 80px; top: 212px;"><div class="sl-block-content" style="z-index: 12; font-size: 80%;" data-highlight-theme="ir-black"><pre class="ruby"><code>require 'socket'
require 'mime-types'
require 'time'
trap 'INT' do; exit end # in a real server, you want more more cleanup than this

DOCROOT = Dir.pwd
CANNED_OK = "HTTP/1.0 200 OK\r\n"
CANNED_NOT_FOUND = "HTTP/1.0 404 Not Found\r\n"
CANNED_BAD_REQUEST = "HTTP/1.0 400 Bad Request\r\n"

def run( host = '0.0.0.0', port = '8080' )
  server = TCPServer.new( host, port )
  while connection = server.accept
    request = get_request connection
    response = handle request
    connection.write response
    connection.close
  end
end

def get_request connection
  r = ''
  while line = connection.gets
    r &lt;&lt; line
    break if r =~ /\r\n\r\n/m # Request headers terminate with \r\n\r\n
  end

  if r =~ /^(\w+) +(?:\w+:\/\/([^ \/]+))?(([^ \?\#]*)\S*) +HTTP\/(\d\.\d)/
    request_method = $1
    unparsed_uri = $3
    uri = $4.empty? ? nil : $4
    http_version = $5
    name = $2 ? $2.intern : nil

    uri = uri.tr( '+', ' ' ).
        gsub( /((?:%[0-9a-fA-F]{2})+)/n ) { [$1.delete( '%' ) ].pack( 'H*' ) } if uri.include?('%')

    [ request_method, http_version, name, unparsed_uri, uri ]
  else
    nil
  end

end

def handle request
  if request
    process request
  else
    CANNED_BAD_REQUEST + final_headers
  end
end

def process request
  path = File.join( DOCROOT, request.last )
  if FileTest.exist?( path ) and FileTest.file?( path ) and File.expand_path( path ).index( DOCROOT ) == 0
    CANNED_OK +
        "Content-Type: #{MIME::Types.type_for( path )}\r\n" +
        "Content-Length: #{File.size( path )}\r\n" +
        "Last-Modified: #{File.mtime( path )}\r\n" +
        final_headers +
        File.read( path )
  else
    CANNED_NOT_FOUND + final_headers
  end
end

def final_headers
  "Date: #{Time.now.httpdate}\r\nConnection: close\r\n\r\n"
end

run</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="88f04f59911d11f1bb38be9c9d182eca" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 161px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p>A little over 70 lines, and it's enough to build on....</p>
</div></div></section><section data-id="f3bf67dc7d35275d61c9a2014ca00ccd"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="236a059f334544ae4372b2398c09bf1d"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>A Real (simple) Server</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="c9a21b302697e631a0e6ebc01ede8805" style="height: auto; min-width: 30px; min-height: 30px; width: 480px; left: 7px; top: 159px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<ul>
	<li>HTTP 1.0 (barely)</li>
	<li>Doesn't actually <strong>parse</strong> HTTP</li>
	<li>Simple, and easily improved</li>
	<li>Blocking server; no concurrency</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="15e8c6e1631667bf0a2dd218e8847f2b" style="min-width: 30px; min-height: 30px; width: 800px; height: 300px; left: 80px; top: 354px;"><div class="sl-block-content" style="z-index: 13; font-size: 86%;" data-highlight-theme="ir-black"><pre class="none"><code>Server Software:
Server Hostname:        127.0.0.1
Server Port:            8080

Document Path:          /simple_blocking_server.rb
Document Length:        1844 bytes

Concurrency Level:      1
Time taken for tests:   2.635 seconds
Complete requests:      10000
Failed requests:        0
Total transferred:      20340000 bytes
HTML transferred:       18440000 bytes
Requests per second:    3795.08 [#/sec] (mean)
Time per request:       0.263 [ms] (mean)
Time per request:       0.263 [ms] (mean, across all concurrent requests)
Transfer rate:          7538.27 [Kbytes/sec] received</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="f16e9b12e5e41555cc7fa37c82a53ec1" style="height: auto; min-width: 30px; min-height: 30px; width: 440px; left: 480px; top: 159px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<ul>
	<li>Pretty fast? 3795/sec...</li>
	<li>localhost</li>
	<li>small static assets</li>
	<li>easy to be fast when you don't do much...</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="ba6e532fe71f25e5dd50619e10ff4431" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 669px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; font-size: 80%;">
<p>All examples ran with Ruby 2.3.1</p>
</div></div></section><section data-id="c3b513b60d32c674cd0ba45df9c5fa85"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 60px; height: auto;" data-block-id="86f131d7a0fd4e1e9a64b6974c8e6f2f"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>A Real (simple) Server</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="e9845ba0bad2ecd1fc1156498f8026f7" style="height: auto; min-width: 30px; min-height: 30px; width: 600px; left: 180px; top: 171px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Slow Responses....</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="2df2941d068524999a85af7642133f87" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 280px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Imagine that it takes some work to generate those responses.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">Make each one take at least one second....</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="a5119d0d9de3228e01f2f10bc5f81761" style="min-width: 30px; min-height: 30px; width: 850px; height: 175px; left: 55px; top: 455px;"><div class="sl-block-content" style="z-index: 14; font-size: 80%;" data-highlight-theme="ir-black"><pre class="diff"><code>--- simple_blocking_server.rb     2016-05-01 11:16:13.750705766 -0400
+++ simple_blocking_server_slow.rb        2016-05-01 16:08:31.422044736 -0400
@@ -56,6 +56,7 @@
   # This server is stupid. For any request method, and http version, it just tries to serve a static file.
   path = File.join( DOCROOT, request.last )
   if FileTest.exist?( path ) and FileTest.file?( path ) and File.expand_path( path ).index( DOCROOT ) == 0
+    sleep 1
     CANNED_OK +
         "Content-Type: #{MIME::Types.type_for( path )}\r\n" +
         "Content-Length: #{File.size( path )}\r\n" +</code></pre></div></div></section><section data-id="5c7f291452bb5b542eabac584f5f3f8f"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 60px; height: auto;" data-block-id="a4d065fcbc4bf7b2c79656c450bc485b"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>A Real (simple) Server</h1>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="84a6c9ff265fab05269b6da671be811e" style="min-width: 30px; min-height: 30px; width: 880px; height: 350px; left: 40px; top: 197px;"><div class="sl-block-content" style="z-index: 12;" data-highlight-theme="ir-black"><pre class="none"><code>Server Software:
Server Hostname:        127.0.0.1
Server Port:            8080

Document Path:          /simple_blocking_server.rb
Document Length:        1844 bytes

Concurrency Level:      1
Time taken for tests:   20.022 seconds
Complete requests:      20
Failed requests:        0
Total transferred:      40680 bytes
HTML transferred:       36880 bytes
Requests per second:    1.00 [#/sec] (mean)
Time per request:       1001.093 [ms] (mean)
Time per request:       1001.093 [ms] (mean, across all concurrent requests)
Transfer rate:          1.98 [Kbytes/sec] received
</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="d8342019fa311b71256a7c02b2e442c6" style="height: auto; min-width: 30px; min-height: 30px; width: 880px; left: 80px; top: 591px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Almost 8000 requests/second down to 1 request/second. Ouch.</p>
</div></div></section><section data-id="125c5cf40c6a6e615877493d0c8d8c7b"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 62px; height: auto;" data-block-id="c1ed872aacba222a989a6a2ab67ac9c3"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>How To Address This?</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 140px; height: auto;" data-block-id="3e62d192e235449631e03bcf014bb4b9"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Subtitle" style="z-index: 12;">
<h2>Concurrency!</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="2b373ab35df70951aa26ae43e8ab0079" style="height: auto; min-width: 30px; min-height: 30px; width: 259px; left: 61px; top: 241px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; transition-duration: 1.6s; transition-delay: 0.9s;" data-animation-type="slide-right">
<p>Multiprocessing</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="5c0885957037389e602ece1b9be024e3" style="height: auto; min-width: 30px; min-height: 30px; width: 220px; left: 370px; top: 381px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; transition-delay: 1.2s; transition-duration: 2.1s;" data-animation-type="slide-up">
<p>Multithreading</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="c958812b3c69a736c720cddd52cae00f" style="height: auto; min-width: 30px; min-height: 30px; width: 178px; left: 702px; top: 528px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; transition-duration: 2.6s; transition-delay: 1.2s;" data-animation-type="slide-left">
<p>Event Based</p>
</div></div></section><section data-id="f22ba216590b147ac9fd4019bc4994b1"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 59px; height: auto;" data-block-id="9ad60bd11c545bbd6338bb90a783c852"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 150px;" data-block-id="ebcf3f841eda8ca9e324bc14907b7bfc"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<h2>Multiprocessing</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="b8dc669c3a03202168674043dcc16b97" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 280px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Just run a bunch of blocking servers, and have something else distribute and balance the load to them.</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="4928b4a36ac63735276c1741301ecafc" style="height: auto; min-width: 30px; min-height: 30px; width: 211px; left: 375px; top: 370px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; border: 7px solid rgb(153, 0, 255); border-radius: 20px; padding: 3px; transition-duration: 1.6s; transition-delay: 0.6s; background-color: rgb(103, 78, 167);" data-animation-type="slide-down">
<p>Load Balancer</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="dc7ca3bc67cdaeb6c3fb91ad63e9acae" style="height: auto; min-width: 30px; min-height: 30px; width: 226px; left: 80px; top: 509px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; border: 6px solid rgb(0, 255, 0); border-radius: 35px; padding: 3px; transition-duration: 2.2s; transition-delay: 1.2s; background-color: rgb(39, 78, 19);" data-animation-type="slide-right">
<p>Blocking Server</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 226px; left: 367px; top: 509px;" data-block-id="f9c2ff4693a838b4d1d3f5fbadf30a27"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; border: 6px solid rgb(0, 255, 0); border-radius: 35px; padding: 3px; transition-delay: 1.2s; transition-duration: 2.2s; background-color: rgb(39, 78, 19);" data-animation-type="scale-up">
<p>Blocking Server</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; min-width: 30px; min-height: 30px; width: 226px; left: 654px; top: 509px;" data-block-id="00391699c63b0e1137ca044f938c1590"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17; border: 6px solid rgb(0, 255, 0); border-radius: 35px; padding: 3px; transition-duration: 2.2s; transition-delay: 1.2s; background-color: rgb(39, 78, 19);" data-animation-type="slide-left">
<p>Blocking Server</p>
</div></div>
<div class="sl-block" data-block-type="line" data-block-id="b3d4765f5053c319c27917ecf8433c3f" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 193px; top: 429px;"><div class="sl-block-content" data-line-x1="-187" data-line-y1="240" data-line-x2="-13" data-line-y2="179" data-line-color="#ffffff" data-line-start-type="line-arrow" data-line-end-type="line-arrow" style="z-index: 18; transition-delay: 0.9s; transition-duration: 1.9s;" data-animation-type="slide-down"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="174" height="61" viewbox="-187 179 174 61"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="-185" y1="239" x2="-15" y2="180"></line><line stroke="#ffffff" stroke-width="2" x1="-185" y1="239" x2="-15" y2="180"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(-185,239) rotate(70.681)" d="M -6 -6 L 0 0 L 6 -6"></path><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(-15,180) rotate(70.681)" d="M 6 6 L 0 0 L -6 6"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 480px; top: 443px;" data-block-id="7935a44c678e2598651578d518373972"><div class="sl-block-content" data-line-x1="85.5" data-line-y1="231" data-line-x2="85" data-line-y2="178" data-line-color="#ffffff" data-line-start-type="line-arrow" data-line-end-type="line-arrow" style="z-index: 19; transition-duration: 1.9s; transition-delay: 0.9s;" data-animation-type="slide-down"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="1" height="53" viewbox="85 178 1 53"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="85" y1="229" x2="85" y2="180"></line><line stroke="#ffffff" stroke-width="2" x1="85" y1="229" x2="85" y2="180"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(85,229) rotate(-0.541)" d="M -6 -6 L 0 0 L 6 -6"></path><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(85,180) rotate(-0.541)" d="M 6 6 L 0 0 L -6 6"></path></svg></div></div>
<div class="sl-block" data-block-type="line" style="width: auto; height: auto; min-width: 1px; min-height: 1px; left: 586px; top: 429px;" data-block-id="b8fa3d64820a04a37fab1ad9fb9c39f4"><div class="sl-block-content" data-line-x1="153" data-line-y1="246" data-line-x2="-28" data-line-y2="179" data-line-color="#ffffff" data-line-start-type="line-arrow" data-line-end-type="line-arrow" style="z-index: 20; transition-duration: 1.9s; transition-delay: 0.9s;" data-animation-type="slide-down"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveaspectratio="xMidYMid" width="181" height="67" viewbox="-28 179 181 67"><line stroke="rgba(0,0,0,0)" stroke-width="15" x1="151" y1="245" x2="-26" y2="180"></line><line stroke="#ffffff" stroke-width="2" x1="151" y1="245" x2="-26" y2="180"></line><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(151,245) rotate(-69.687)" d="M -6 -6 L 0 0 L 6 -6"></path><path style="fill: rgba(0,0,0,0);" stroke="#ffffff" stroke-width="2" transform="translate(-26,180) rotate(-69.687)" d="M 6 6 L 0 0 L -6 6"></path></svg></div></div>
<div class="sl-block" data-block-type="text" data-block-id="b04ac7da869c8d526c7604bfaab1ad5f" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 593px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 21; transition-delay: 0.6s; transition-duration: 4s;" data-animation-type="slide-up">
<h2>CONCURRENCY! WINNING!</h2>
</div></div></section><section data-id="fc26eb823fd45d488658e8af18e1d376"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 59px; height: auto;" data-block-id="f471809f3c5095c286c41b247b09c548"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Main Loop</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 600px; left: 180px; top: 150px;" data-block-id="587de64edbc54bd9a971bd6c3d14e61c"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 11;">
<h2>Multiprocessing</h2>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 800px; left: 80px; top: 280px;" data-block-id="1401f30da02394892ce42e7f6d2a6aa0"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12;">
<p style="text-align: left;">Just run a bunch of blocking servers, and have something else distribute and balance the load to them.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 80px; left: 80px; top: 381px;" data-block-id="ba8943ba4caa35c2d54f6bcb9920561f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">Pros</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 80px; left: 800px; top: 381px;" data-block-id="2ddd2a09e74099247ce3b640be395c30"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align: right;">Cons</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 320px; left: 160px; top: 420px;" data-block-id="bc0222b1d476651604270615c9a6b014"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15; font-size: 90%;">
<ul>
	<li style="text-align:left">Simple to implement.</li>
	<li style="text-align:left">Performance can still be quite good.</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 320px; left: 480px; top: 420px;" data-block-id="83e87ad55c86f9a07cdddfb085d48642"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17; font-size: 90%;">
<ul>
	<li>Managing processes can be complex.</li>
	<li>Limited sharing of resources can be expensive.</li>
</ul>
</div></div></section><section data-id="3452bc4c927cceba1b20b93ddb584fd0"><div class="sl-block" data-block-type="text" style="width: 350px; left: 305px; top: 51px; height: auto;" data-block-id="f6bf4364ab98548c113fa692158291eb"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>

<div class="sl-block" data-block-type="text" data-block-id="5c5b833fbd37f2db721833ccdfac62c4" style="height: auto; min-width: 30px; min-height: 30px; width: 332px; left: 532px; top: 148px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 85%;">
<p>Multiprocessing Simple Blocking Server</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="09a5eddde84c4ef1e3df0a4f4fbd4b47" style="min-width: 30px; min-height: 30px; width: 500px; height: 468px; left: 448px; top: 214px;"><div class="sl-block-content" style="z-index: 13; font-size: 80%;" data-highlight-theme="ir-black"><pre class="diff"><code>--- kiss_slow.rb        2016-05-01 16:08:31.422044736 -0400
+++ kiss_multiprocessing.rb     2016-05-01 16:45:13.238012734 -0400
@@ -11,6 +11,8 @@
 def run( host = '0.0.0.0', port = '8080' )
   server = TCPServer.new( host, port )

+  fork_it
+
   while connection = server.accept
     request = get_request connection
     response = handle request
@@ -20,6 +22,18 @@
   end
 end

+def fork_it( process_count = 9 )
+  pid = nil
+  process_count.times do
+    if pid = fork
+      Process.detach( pid )
+    else
+      break
+    end
+  end
+
+end
+
 def get_request connection
   r = ''
   while line = connection.gets</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="54befd30f285ac29cb3d58b703834b67" style="height: auto; min-width: 30px; min-height: 30px; width: 320px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align: left;"><span style="font-size:0.9em">Listen on a port, then fork.</span></p>

<p style="text-align: left;"> </p>

<p style="text-align: left;"><span style="font-size:0.9em">A child processes share opened ports. OS load balances.</span></p>

<p style="text-align: left;"> </p>

<p style="text-align: left;"><span style="font-size:0.9em">YMMV depending on OS.</span></p>
</div></div></section><section data-id="cbdf10a1782ee204721c9234c743b8e6"><div class="sl-block" data-block-type="text" style="width: 350px; left: 305px; top: 58px; height: auto;" data-block-id="b19a8e25cdbc541635243bc22ea664f6"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 332px; left: 314px; top: 144px;" data-block-id="1f12d7baa54ba1f062300021dacd2603"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 85%;">
<p>Multiprocessing Simple Blocking Server</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="c637b01f993d212ffa7f88f6d1b10233" style="min-width: 30px; min-height: 30px; width: 703px; height: 360px; left: 129px; top: 240px;"><div class="sl-block-content" style="z-index: 13;" data-highlight-theme="ir-black"><pre class="diff"><code>Server Software:
Server Hostname:        127.0.0.1
Server Port:            8080

Document Path:          /simple_blocking_server.rb
Document Length:        1844 bytes

Concurrency Level:      10
Time taken for tests:   20.113 seconds
Complete requests:      200
Failed requests:        0
Total transferred:      406800 bytes
HTML transferred:       368800 bytes
Requests per second:    9.94 [#/sec] (mean)
Time per request:       1005.662 [ms] (mean)
Time per request:       100.566 [ms] (mean, across all concurrent requests)
Transfer rate:          19.75 [Kbytes/sec] received
</code></pre></div></div></section><section data-id="2ea34537bb22983ca9da2807221db7b3"><div class="sl-block" data-block-type="text" style="width: 350px; left: 305px; top: 58px; height: auto;" data-block-id="a182c6fc674ae79ead1b222ae783ddb3"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 332px; left: 314px; top: 144px;" data-block-id="2eb0bcf91cbe5782c1630fa92d630617"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 85%;">
<p>Multiprocessing Simple Blocking Server</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="3ed28d6906df785d249307003026a33e" style="height: auto; min-width: 30px; min-height: 30px; width: 624px; left: 80px; top: 299px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 84%;">
<p style="text-align: left;">Ruby pre 2.0 was very copy-on-write unfriendly.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">Multiprocessing consumed large amounts of RAM.</p>

<p style="text-align: left;"> </p>

<p style="text-align: left;">Modern Rubies are more resource friendly when forking.</p>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="18a154fef664922a3f594c2c0797420b" style="min-width: 30px; min-height: 30px; width: 138px; height: 300px; left: 742px; top: 241px;"><div class="sl-block-content" style="z-index: 14;" data-highlight-theme="ir-black"><pre class="diff"><code>  VSZ   RSS
------ -----
596208 14888
 53256 12892
120984 12956
188568 12988
256180 12992
323788 13000
391368 13040
458952 13044
526544 13056
594152 13092
       -----
       131948K</code></pre></div></div></section><section data-id="ff4e78a9ebe260f2708072aebe3b3a3d"><div class="sl-block" data-block-type="text" style="width: 350px; left: 305px; top: 58px; height: auto;" data-block-id="107c7a4bbf76ad697b146a18539548d1"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 332px; left: 314px; top: 144px;" data-block-id="e8e892562e1ecf556425c404b3fc530f"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 85%;">
<h2>Multithreading</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="63c3ea36deb10b0bd2c50322cf9e9641" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<p style="text-align: left;">A thread is the smallest sequence of instructions that can be managed independently by the scheduler. Multiple threads will share one process's memory.</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 80px; left: 80px; top: 381px;" data-block-id="b975acb3b0ed97cedd2589dc39c5fc3a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14;">
<p style="text-align: left;">Pros</p>
</div></div>
<div class="sl-block" data-block-type="text" style="height: auto; width: 80px; left: 800px; top: 381px;" data-block-id="4241b3b0c23c027e93d13760f188da9a"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 15;">
<p style="text-align: right;">Cons</p>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="a0ea733b4c99f8c775e86a9a67d7770e" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 480px; top: 439px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 16; font-size: 88%;">
<ul>
	<li style="text-align:left">Threading implementations vary a lot across Ruby implementations.</li>
	<li style="text-align:left">Locking issues on shared resources can be complicated.</li>
</ul>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="6ddc33c8932bef0006baf96148182413" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 80px; top: 439px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 17; font-size: 88%;">
<ul>
	<li style="text-align:left">Easier to manage/load-balance in a single piece of software.</li>
	<li style="text-align:left">Threads are lightweight, so resource usage is generally better.</li>
	<li style="text-align:left">Can be very performant.</li>
</ul>
</div></div></section><section data-id="a4d2c012b6570dcc797164bbaff79784"><div class="sl-block" data-block-type="text" style="width: 350px; left: 305px; top: 58px; height: auto;" data-block-id="96442ab1998700b30abe80672c1c2ceb"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>






<div class="sl-block" data-block-type="text" style="height: auto; width: 480px; left: 240px; top: 144px;" data-block-id="e643ee2447f733c476937ffefc01b98d"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 85%;">
<h2>Multithreaded Server</h2>
</div></div>
<div class="sl-block" data-block-type="code" data-block-id="6370805c582b4cb5e8857e7850e859bb" style="min-width: 30px; min-height: 30px; width: 526px; height: 336px; left: 217px; top: 314px;"><div class="sl-block-content" style="z-index: 13; font-size: 80%;" data-highlight-theme="ir-black"><pre class="diff"><code>--- server_slow.rb      2016-05-01 16:08:31.422044736 -0400
+++ server_multithreaded.rb     2016-05-01 21:56:47.997815573 -0400
@@ -11,12 +11,14 @@
 def run( host = '0.0.0.0', port = '8080' )
   server = TCPServer.new( host, port )

-  while connection = server.accept
-    request = get_request connection
-    response = handle request
+  while con = server.accept
+    Thread.new( con ) do |connection|
+      request = get_request connection
+      response = handle request

-    connection.write response
-    connection.close
+      connection.write response
+      connection.close
+    end
   end
 end
</code></pre></div></div>
<div class="sl-block" data-block-type="text" data-block-id="8fb3642ae6bf60137ae82cebf83e7964" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 241px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; font-size: 95%;">
<p>Simple, naive implementation - a new thread for every request.</p>
</div></div></section><section data-id="2412bf7d60e4eff3736879c4d397151f"><div class="sl-block" data-block-type="text" style="width: 350px; left: 305px; top: 58px; height: auto;" data-block-id="dba167e2cef91df7e20b1225a327e5d2"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>Main Loop</h1>
</div></div>

<div class="sl-block" data-block-type="text" style="height: auto; width: 480px; left: 240px; top: 144px;" data-block-id="30203a6ae0a9d294bae5702667b28a89"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 85%;">
<h2>Multithreaded Server</h2>
</div></div>




<div class="sl-block" data-block-type="table" data-block-id="9f5a1b5be6938ca43d5338f2b589e6aa" style="height: auto; min-width: 120px; min-height: 30px; width: 800px; left: 80px; top: 237px;"><div class="sl-block-content" style="z-index: 13; font-size: 90%; text-align: left; background-color: rgb(0, 0, 0);" data-table-rows="7" data-table-cols="3"><table><tbody>
<tr>
<th style="width: 255px;">Total Requests</th>
<th>Concurrent Requests</th>
<th>Requests per Second</th>
</tr>
<tr>
<td style="width: 255px;">200</td>
<td>10</td>
<td>9.95</td>
</tr>
<tr>
<td style="width: 255px;">200</td>
<td>20</td>
<td>19.80</td>
</tr>
<tr>
<td>500</td>
<td>50</td>
<td>48.98</td>
</tr>
<tr>
<td>1000</td>
<td>100</td>
<td>96.26</td>
</tr>
<tr>
<td>2000</td>
<td>200</td>
<td>184.45</td>
</tr>
<tr>
<td>10000</td>
<td>1000</td>
<td>628.33</td>
</tr>
</tbody></table></div></div>
<div class="sl-block" data-block-type="text" data-block-id="30f4cec8196711b787f05662bafa648d" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 591px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 14; font-size: 85%;">
<p style="text-align:left">Slow requests scale pretty well with threads. Diminishing returns when thread count gets high, but not bad for such a trivial implementation.</p>
</div></div></section><section data-id="ea5516ec94b6d02275ec1aed077e89ee"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="9605b70b02a4452c7e4e3935246f43c3"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Parsing HTTP</h1>
</div></div></section><section data-id="457c802da2207963c3821eec3c41c894"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="dd2299a2ecfe5cb8115592b6b59a6cbf"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Signals and Miscellany</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="c7a47793d4a7fa5d8e22ef3ea5a1cb4f" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 163px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; line-height: 0.975; font-size: 85%;" data-has-line-height="">
<h2>The Other Details To Be a Well Behaved Daemon</h2>
</div></div></section></section><section data-id="8b96b1b85cb17597dfa8b45047dc0c20"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 59px; height: auto;" data-block-id="744fd6cde1bb11722d93d5f57158eaa8"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Web Server</h1>

<h2>vs</h2>

<h1>Application Server</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="675624d76550bd523097a51e3dafddb6" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 381px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 12; font-size: 80%;" data-has-custom-html="">
<p style="text-align:left">• A web server speaks HTTP with clients, answering requests for resources.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">• An applications server contains an application, and answers requests for application resources.</p>

<p style="text-align:left"> </p>

<p style="text-align:left">• Generally, application servers are a specific type of web server.</p>
</div></div></section><section class="stack" data-id="500dc6c4983ef0813a5a56345d9d2b89"><section data-id="4cea56df12a05b791ed522f85e55a1e5"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="72456befdf91a1516722791f4b107a2d"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 10;">
<h1>Ruby Web Servers</h1>
</div></div>
<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 173px; height: auto;" data-block-id="52b1774e4cfac32b43fa070f8cdb0a45"><div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Subtitle" style="z-index: 11;">
<h2>A Quick Survey</h2>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="855a8516514d43ad3a77f70376984523" style="height: auto; min-width: 30px; min-height: 30px; width: 400px; left: 280px; top: 247px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13;">
<ul>
	<li style="text-align:left">WEBrick</li>
	<li style="text-align:left">Mongrel</li>
	<li style="text-align:left">Thin</li>
	<li style="text-align:left">Puma</li>
	<li style="text-align:left">Passenger</li>
	<li style="text-align:left">Unicorn</li>
	<li style="text-align:left">Rainbows!</li>
	<li style="text-align:left">Yahns</li>
	<li style="text-align:left">Goliath</li>
	<li style="text-align:left">Swiftiply</li>
</ul>
</div></div></section><section data-id="3733e14e76cb53ca5a8b237788766423"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 60px; height: auto;" data-block-id="993ef713db4fbb24cfe2ae87b283d528"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text" style="z-index: 11;">
<h1>WEBrick</h1>
</div></div>
<div class="sl-block" data-block-type="text" data-block-id="26a06526d0a66ebf6611061917091357" style="height: auto; min-width: 30px; min-height: 30px; width: 800px; left: 80px; top: 210px;"><div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Text" style="z-index: 13; font-size: 98%;" data-has-custom-html="">
<p style="text-align:left">• Pure Ruby</p>

<p style="text-align:left">• Thread based design</p>

<p style="text-align:left">• Written in 2000 by <span style="color:#FFFFFF">Masayoshi Takahashi and</span> Yuuzou Gotou.</p>

<p style="text-align:left">• Ubiquitous, as it is bundled with Ruby itself.</p>

<p style="text-align:left">• Flexible, fairly featureful, and easy to use.</p>

<p style="text-align:left">• Fairly well documented.</p>

<p style="text-align:left">• Fairly slow.</p>
</div></div></section><section data-id="01f572ab25a4070d4827964b8955e240"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="d655176248d702320bdae5e7602ed1d4"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Mongrel</h1>
</div></div></section><section data-id="5e3d49e7f2b7dfd473abacaa08ddb573"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="598bf8b4a360fc1ba756301b61bee7be"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Swiftiply</h1>
</div></div></section><section data-id="1c89b006333f87c1e917aee64a9842a8"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="b26329350009e08e2436834b6717298a"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Thin</h1>
</div></div></section><section data-id="0401b8dfbf7ebc15d9aa850967e5997f"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="f1bc34e67f8851a3e02bd8b2e0a916cc"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Goliath</h1>
</div></div></section><section data-id="7f67091f2843d86578203b5981646b1a"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="352af8bcf632facc6df72ba401e44a8b"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Puma</h1>
</div></div></section><section data-id="f17fbad0ef9fa0c947a08dc667e2aa02"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="cfe1197428531978f975e180adc134c8"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Passenger</h1>
</div></div></section><section data-id="418cd47034d2860accb1053041b7ec1e"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="e6490325d4028e36f30b578e3d48fa13"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Unicorn</h1>
</div></div></section><section data-id="e730710b0a672bbaa0a535f24a819679"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="c050006e874129c7ac9a1d47b83eb006"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Rainbows!</h1>
</div></div></section><section data-id="88873dc7c0bbc5bbed6c0a7dc2914435"><div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 70px; height: auto;" data-block-id="c07c898a8d13363f59323d81da0b0618"><div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">
<h1>Yahns</h1>
</div></div></section></section>
			</div>
		</div>

		<script>
			var SLConfig = {"deck": {"id":668761,"slug":"lets-build-a-webserver","title":"Let's Build a Webserver!","description":"Railsconf 2016 Workshop -- Building web servers with Ruby","visibility":"self","published_at":null,"sanitize_messages":null,"thumbnail_url":"https://s3.amazonaws.com/media-p.slid.es/thumbnails/017e88fc2dddf87920bf47f7a77050eb/thumb.jpg","view_count":0,"user":{"id":489394,"username":"wyhaines","name":null,"description":null,"thumbnail_url":"https://www.gravatar.com/avatar/ca8efd0ba834b02b9b7dd34b5c6c2721?s=140\u0026d=https%3A%2F%2Fs3.amazonaws.com%2Fstatic.slid.es%2Fimages%2Fdefault-profile-picture.png","beta_collaboration":false,"pro":true,"enterprise":false,"enterprise_manager":false,"settings":{"id":331484,"present_controls":true,"present_upsizing":true,"present_notes":true},"registered":true},"background_transition":"fade","transition":"default","theme_id":null,"theme_font":"josefine","theme_color":"cobalt-orange","auto_slide_interval":0,"comments_enabled":true,"forking_enabled":false,"rolling_links":false,"center":false,"should_loop":false,"share_notes":false,"slide_number":false,"rtl":false,"version":2,"collaborative":null,"notes":{}}};
			SLConfig.current_user = {
				name: "",
				username: "wyhaines",
				pro: true
			};
		</script>

		<script src="lib/head.min.js"></script>
		<script src="lib/reveal.min.js"></script>
		<script>
			// Make Slides speaker notes available in the reveal.js speaker view
			if( SLConfig.deck.notes ) {
				[].forEach.call( document.querySelectorAll( '.reveal .slides section' ), function( slide ) {

					var value = SLConfig.deck.notes[ slide.getAttribute( 'data-id' ) ];
					if( value && typeof value === 'string' ) {
						slide.setAttribute( 'data-notes', value );
					}

				} );
			}

			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				mouseWheel: false,
				showNotes: SLConfig.deck.share_notes,
				slideNumber: SLConfig.deck.slide_number,

				autoSlide: SLConfig.deck.auto_slide_interval || 0,
				autoSlideStoppable: true,

				rolling_links: SLConfig.deck.rolling_links || true,
				center: SLConfig.deck.center || false,
				loop: SLConfig.deck.should_loop || false,
				rtl: SLConfig.deck.rtl || false,

				transition: SLConfig.deck.transition,
				backgroundTransition: SLConfig.deck.background_transition,

				maxScale: 2,

				dependencies: [
					{ src: 'lib/reveal-plugins/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'lib/reveal-plugins/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'lib/reveal-plugins/highlight/highlight.js', async: true, callback: function() { hljs.initHighlighting(); hljs.initHighlightingOnLoad(); } },
					{ src: 'lib/reveal-plugins/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
		</script>

		

	</body>
</html>
